<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.0.5 (20251129.0827)
 -->
<!-- Pages: 1 -->
<svg width="3095pt" height="1524pt"
 viewBox="0.00 0.00 3095.00 1524.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1520)">
<polygon fill="white" stroke="none" points="-4,4 -4,-1520 3090.96,-1520 3090.96,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_Initial_configuration</title>
<path fill="#e6e6fa" stroke="grey" stroke-dasharray="5,2" d="M1153.96,-1289C1153.96,-1289 1419.96,-1289 1419.96,-1289 1425.96,-1289 1431.96,-1295 1431.96,-1301 1431.96,-1301 1431.96,-1496 1431.96,-1496 1431.96,-1502 1425.96,-1508 1419.96,-1508 1419.96,-1508 1153.96,-1508 1153.96,-1508 1147.96,-1508 1141.96,-1502 1141.96,-1496 1141.96,-1496 1141.96,-1301 1141.96,-1301 1141.96,-1295 1147.96,-1289 1153.96,-1289"/>
<text xml:space="preserve" text-anchor="middle" x="1286.96" y="-1490.7" font-family="DejaVu Sans" font-size="14.00" fill="grey">Initial configuration</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_Load_and_prepare_the_data</title>
<path fill="#e6e6fa" stroke="grey" stroke-dasharray="5,2" d="M678.96,-310.5C678.96,-310.5 2268.96,-310.5 2268.96,-310.5 2274.96,-310.5 2280.96,-316.5 2280.96,-322.5 2280.96,-322.5 2280.96,-1233.5 2280.96,-1233.5 2280.96,-1239.5 2274.96,-1245.5 2268.96,-1245.5 2268.96,-1245.5 678.96,-1245.5 678.96,-1245.5 672.96,-1245.5 666.96,-1239.5 666.96,-1233.5 666.96,-1233.5 666.96,-322.5 666.96,-322.5 666.96,-316.5 672.96,-310.5 678.96,-310.5"/>
<text xml:space="preserve" text-anchor="middle" x="1473.96" y="-1228.2" font-family="DejaVu Sans" font-size="14.00" fill="grey">Load and prepare the data</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_Interpolation</title>
<path fill="#ccccde" stroke="grey" stroke-dasharray="5,2" d="M1276.96,-655.5C1276.96,-655.5 2260.96,-655.5 2260.96,-655.5 2266.96,-655.5 2272.96,-661.5 2272.96,-667.5 2272.96,-667.5 2272.96,-771.75 2272.96,-771.75 2272.96,-777.75 2266.96,-783.75 2260.96,-783.75 2260.96,-783.75 1276.96,-783.75 1276.96,-783.75 1270.96,-783.75 1264.96,-777.75 1264.96,-771.75 1264.96,-771.75 1264.96,-667.5 1264.96,-667.5 1264.96,-661.5 1270.96,-655.5 1276.96,-655.5"/>
<text xml:space="preserve" text-anchor="middle" x="1768.96" y="-766.45" font-family="DejaVu Sans" font-size="14.00" fill="grey">Interpolation</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_Create_models</title>
<path fill="#e6e6fa" stroke="grey" stroke-dasharray="5,2" d="M2300.96,-8C2300.96,-8 3066.96,-8 3066.96,-8 3072.96,-8 3078.96,-14 3078.96,-20 3078.96,-20 3078.96,-590.38 3078.96,-590.38 3078.96,-596.38 3072.96,-602.38 3066.96,-602.38 3066.96,-602.38 2300.96,-602.38 2300.96,-602.38 2294.96,-602.38 2288.96,-596.38 2288.96,-590.38 2288.96,-590.38 2288.96,-20 2288.96,-20 2288.96,-14 2294.96,-8 2300.96,-8"/>
<text xml:space="preserve" text-anchor="middle" x="2683.96" y="-585.08" font-family="DejaVu Sans" font-size="14.00" fill="grey">Create models</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_GPU_cluster</title>
<path fill="#e6e6fa" stroke="grey" stroke-dasharray="5,2" d="M58.96,-100.88C58.96,-100.88 646.96,-100.88 646.96,-100.88 652.96,-100.88 658.96,-106.88 658.96,-112.88 658.96,-112.88 658.96,-600 658.96,-600 658.96,-606 652.96,-612 646.96,-612 646.96,-612 58.96,-612 58.96,-612 52.96,-612 46.96,-606 46.96,-600 46.96,-600 46.96,-112.88 46.96,-112.88 46.96,-106.88 52.96,-100.88 58.96,-100.88"/>
<text xml:space="preserve" text-anchor="middle" x="352.96" y="-594.7" font-family="DejaVu Sans" font-size="14.00" fill="grey">GPU cluster</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_k&#45;space</title>
<path fill="#e6e6fa" stroke="grey" stroke-dasharray="5,2" d="M2501.96,-933.12C2501.96,-933.12 2865.96,-933.12 2865.96,-933.12 2871.96,-933.12 2877.96,-939.12 2877.96,-945.12 2877.96,-945.12 2877.96,-1030.12 2877.96,-1030.12 2877.96,-1036.12 2871.96,-1042.12 2865.96,-1042.12 2865.96,-1042.12 2501.96,-1042.12 2501.96,-1042.12 2495.96,-1042.12 2489.96,-1036.12 2489.96,-1030.12 2489.96,-1030.12 2489.96,-945.12 2489.96,-945.12 2489.96,-939.12 2495.96,-933.12 2501.96,-933.12"/>
<text xml:space="preserve" text-anchor="middle" x="2683.96" y="-1024.83" font-family="DejaVu Sans" font-size="14.00" fill="grey">k&#45;space</text>
</g>
<!-- Target GPUs -->
<g id="node1" class="node">
<title>Target GPUs</title>
<path fill="azure" stroke="black" stroke-width="2" d="M1366.34,-1474.75C1366.34,-1474.75 1207.59,-1474.75 1207.59,-1474.75 1201.59,-1474.75 1195.59,-1468.75 1195.59,-1462.75 1195.59,-1462.75 1195.59,-1419 1195.59,-1419 1195.59,-1413 1201.59,-1407 1207.59,-1407 1207.59,-1407 1366.34,-1407 1366.34,-1407 1372.34,-1407 1378.34,-1413 1378.34,-1419 1378.34,-1419 1378.34,-1462.75 1378.34,-1462.75 1378.34,-1468.75 1372.34,-1474.75 1366.34,-1474.75"/>
<text xml:space="preserve" text-anchor="start" x="1205.59" y="-1455.45" font-family="DejaVu Sans" font-size="14.00">Define GPU [1] for big</text>
<text xml:space="preserve" text-anchor="start" x="1205.59" y="-1436.2" font-family="DejaVu Sans" font-size="14.00">tasks (limit=28GB) and</text>
<text xml:space="preserve" text-anchor="start" x="1205.59" y="-1416.95" font-family="DejaVu Sans" font-size="14.00">GPU 0 for small tasks</text>
</g>
<!-- Config file paths -->
<g id="node2" class="node">
<title>Config file paths</title>
<path fill="azure" stroke="black" stroke-width="2" d="M1412.09,-1345.5C1412.09,-1345.5 1161.84,-1345.5 1161.84,-1345.5 1155.84,-1345.5 1149.84,-1339.5 1149.84,-1333.5 1149.84,-1333.5 1149.84,-1309 1149.84,-1309 1149.84,-1303 1155.84,-1297 1161.84,-1297 1161.84,-1297 1412.09,-1297 1412.09,-1297 1418.09,-1297 1424.09,-1303 1424.09,-1309 1424.09,-1309 1424.09,-1333.5 1424.09,-1333.5 1424.09,-1339.5 1418.09,-1345.5 1412.09,-1345.5"/>
<text xml:space="preserve" text-anchor="start" x="1159.84" y="-1326.2" font-family="DejaVu Sans" font-size="14.00">Using config file for providing paths:</text>
<text xml:space="preserve" text-anchor="start" x="1159.84" y="-1306.95" font-family="DejaVu Sans" font-size="14.00">paths_14032025.json</text>
</g>
<!-- Target GPUs&#45;&gt;Config file paths -->
<g id="edge1" class="edge">
<title>Target GPUs&#45;&gt;Config file paths</title>
<path fill="none" stroke="black" d="M1286.96,-1406.17C1286.96,-1390.91 1286.96,-1372.88 1286.96,-1357.45"/>
<polygon fill="black" stroke="black" points="1290.46,-1357.76 1286.96,-1347.76 1283.46,-1357.76 1290.46,-1357.76"/>
<text xml:space="preserve" text-anchor="middle" x="1315.84" y="-1379.5" font-family="DejaVu Sans" font-size="10.00">Δt=678 ms</text>
<text xml:space="preserve" text-anchor="middle" x="1315.84" y="-1366.75" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(1.69 s)</text>
</g>
<!-- Load Metabolic Mask -->
<g id="node3" class="node">
<title>Load Metabolic Mask</title>
<path fill="azure" stroke="black" stroke-width="2" d="M1258.96,-1212.25C1258.96,-1212.25 1118.96,-1212.25 1118.96,-1212.25 1112.96,-1212.25 1106.96,-1206.25 1106.96,-1200.25 1106.96,-1200.25 1106.96,-1188.25 1106.96,-1188.25 1106.96,-1182.25 1112.96,-1176.25 1118.96,-1176.25 1118.96,-1176.25 1258.96,-1176.25 1258.96,-1176.25 1264.96,-1176.25 1270.96,-1182.25 1270.96,-1188.25 1270.96,-1188.25 1270.96,-1200.25 1270.96,-1200.25 1270.96,-1206.25 1264.96,-1212.25 1258.96,-1212.25"/>
<text xml:space="preserve" text-anchor="start" x="1116.96" y="-1189.58" font-family="DejaVu Sans" font-size="14.00">Load Metabolic Mask</text>
</g>
<!-- Config file paths&#45;&gt;Load Metabolic Mask -->
<g id="edge2" class="edge">
<title>Config file paths&#45;&gt;Load Metabolic Mask</title>
<path fill="none" stroke="black" d="M1266.53,-1296.44C1261.77,-1290.77 1256.77,-1284.71 1252.21,-1279 1237.3,-1260.31 1221.05,-1238.77 1208.76,-1222.22"/>
<polygon fill="black" stroke="black" points="1211.68,-1220.28 1202.92,-1214.32 1206.05,-1224.44 1211.68,-1220.28"/>
<text xml:space="preserve" text-anchor="middle" x="1281.09" y="-1269.5" font-family="DejaVu Sans" font-size="10.00">Δt=14.1 ms</text>
<text xml:space="preserve" text-anchor="middle" x="1281.09" y="-1256.75" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(1.7 s)</text>
</g>
<!-- Load example FIDs -->
<g id="node4" class="node">
<title>Load example FIDs</title>
<path fill="azure" stroke="black" stroke-width="2" d="M1424.96,-1212.25C1424.96,-1212.25 1300.96,-1212.25 1300.96,-1212.25 1294.96,-1212.25 1288.96,-1206.25 1288.96,-1200.25 1288.96,-1200.25 1288.96,-1188.25 1288.96,-1188.25 1288.96,-1182.25 1294.96,-1176.25 1300.96,-1176.25 1300.96,-1176.25 1424.96,-1176.25 1424.96,-1176.25 1430.96,-1176.25 1436.96,-1182.25 1436.96,-1188.25 1436.96,-1188.25 1436.96,-1200.25 1436.96,-1200.25 1436.96,-1206.25 1430.96,-1212.25 1424.96,-1212.25"/>
<text xml:space="preserve" text-anchor="middle" x="1362.96" y="-1189.58" font-family="DejaVu Sans" font-size="14.00">Load example FIDs</text>
</g>
<!-- Config file paths&#45;&gt;Load example FIDs -->
<g id="edge3" class="edge">
<title>Config file paths&#45;&gt;Load example FIDs</title>
<path fill="none" stroke="black" d="M1301.61,-1296.15C1314.35,-1275.2 1332.8,-1244.86 1346.13,-1222.93"/>
<polygon fill="black" stroke="black" points="1349.05,-1224.87 1351.26,-1214.5 1343.07,-1221.23 1349.05,-1224.87"/>
<text xml:space="preserve" text-anchor="middle" x="1356.11" y="-1269.5" font-family="DejaVu Sans" font-size="10.00">Δt=151 ms</text>
<text xml:space="preserve" text-anchor="middle" x="1356.11" y="-1256.75" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(1.85 s)</text>
</g>
<!-- Load and prepare concentration maps -->
<g id="node5" class="node">
<title>Load and prepare concentration maps</title>
<path fill="azure" stroke="black" stroke-width="2" d="M1464.46,-1057.75C1464.46,-1057.75 1087.46,-1057.75 1087.46,-1057.75 1081.46,-1057.75 1075.46,-1051.75 1075.46,-1045.75 1075.46,-1045.75 1075.46,-904.25 1075.46,-904.25 1075.46,-898.25 1081.46,-892.25 1087.46,-892.25 1087.46,-892.25 1464.46,-892.25 1464.46,-892.25 1470.46,-892.25 1476.46,-898.25 1476.46,-904.25 1476.46,-904.25 1476.46,-1045.75 1476.46,-1045.75 1476.46,-1051.75 1470.46,-1057.75 1464.46,-1057.75"/>
<polygon fill="#a1ddb2" stroke="none" points="1085.46,-1034.5 1085.46,-1051.75 1466.46,-1051.75 1466.46,-1034.5 1085.46,-1034.5"/>
<text xml:space="preserve" text-anchor="start" x="1123.71" y="-1039.45" font-family="DejaVu Sans" font-weight="bold" font-size="14.00">Step: Load and prepare concentration maps</text>
<text xml:space="preserve" text-anchor="start" x="1085.46" y="-1019.2" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="1085.46" y="-1000.95" font-family="DejaVu Sans" font-style="italic" font-size="14.00">Description: Loading the concentration maps,</text>
<text xml:space="preserve" text-anchor="start" x="1085.46" y="-981.7" font-family="DejaVu Sans" font-style="italic" font-size="14.00">assigning working names and interpolating it with</text>
<text xml:space="preserve" text-anchor="start" x="1085.46" y="-962.45" font-family="DejaVu Sans" font-style="italic" font-size="14.00">2nd order. Currently using: ⓐ Glu, ⓑ Gln, ⓒ m&#45;Ins, ⓓ</text>
<text xml:space="preserve" text-anchor="start" x="1085.46" y="-942.45" font-family="DejaVu Sans" font-style="italic" font-size="14.00">NAA, ⓔ Cr+PCr, ⓕ GPC+PCh</text>
<text xml:space="preserve" text-anchor="start" x="1085.46" y="-921.45" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="1085.46" y="-902.2" font-family="DejaVu Sans" font-size="14.00">☑ Simulated data is used</text>
</g>
<!-- Load Metabolic Mask&#45;&gt;Load and prepare concentration maps -->
<g id="edge4" class="edge">
<title>Load Metabolic Mask&#45;&gt;Load and prepare concentration maps</title>
<path fill="none" stroke="black" d="M1196.08,-1175.47C1205.45,-1152.08 1222.61,-1109.22 1238.63,-1069.21"/>
<polygon fill="black" stroke="black" points="1241.86,-1070.56 1242.33,-1059.98 1235.36,-1067.96 1241.86,-1070.56"/>
<text xml:space="preserve" text-anchor="middle" x="1241.17" y="-1148.75" font-family="DejaVu Sans" font-size="10.00">Δt=399 ms</text>
<text xml:space="preserve" text-anchor="middle" x="1241.17" y="-1136" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(2.25 s)</text>
</g>
<!-- Load example FIDs&#45;&gt;Load and prepare concentration maps -->
<g id="edge5" class="edge">
<title>Load example FIDs&#45;&gt;Load and prepare concentration maps</title>
<path fill="none" stroke="black" d="M1355.84,-1175.47C1346.47,-1152.08 1329.31,-1109.22 1313.29,-1069.21"/>
<polygon fill="black" stroke="black" points="1316.56,-1067.96 1309.59,-1059.98 1310.06,-1070.56 1316.56,-1067.96"/>
<text xml:space="preserve" text-anchor="middle" x="1377.25" y="-1148.75" font-family="DejaVu Sans" font-size="10.00">Δt=399 ms</text>
<text xml:space="preserve" text-anchor="middle" x="1377.25" y="-1136" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(2.25 s)</text>
</g>
<!-- Interpolate concentration maps -->
<g id="node10" class="node">
<title>Interpolate concentration maps</title>
<path fill="azure" stroke="black" stroke-width="2" d="M1658.71,-731.25C1658.71,-731.25 1487.21,-731.25 1487.21,-731.25 1481.21,-731.25 1475.21,-725.25 1475.21,-719.25 1475.21,-719.25 1475.21,-694.75 1475.21,-694.75 1475.21,-688.75 1481.21,-682.75 1487.21,-682.75 1487.21,-682.75 1658.71,-682.75 1658.71,-682.75 1664.71,-682.75 1670.71,-688.75 1670.71,-694.75 1670.71,-694.75 1670.71,-719.25 1670.71,-719.25 1670.71,-725.25 1664.71,-731.25 1658.71,-731.25"/>
<text xml:space="preserve" text-anchor="start" x="1485.21" y="-711.95" font-family="DejaVu Sans" font-size="14.00">Interpolate concentration</text>
<text xml:space="preserve" text-anchor="start" x="1485.21" y="-692.7" font-family="DejaVu Sans" font-size="14.00">maps to (112, 128, 80)</text>
</g>
<!-- Load and prepare concentration maps&#45;&gt;Interpolate concentration maps -->
<g id="edge6" class="edge">
<title>Load and prepare concentration maps&#45;&gt;Interpolate concentration maps</title>
<path fill="none" stroke="black" d="M1368.31,-891.29C1425.7,-839.89 1496.21,-776.74 1537.7,-739.58"/>
<polygon fill="black" stroke="black" points="1539.86,-742.35 1544.97,-733.07 1535.19,-737.13 1539.86,-742.35"/>
<text xml:space="preserve" text-anchor="middle" x="1505.77" y="-807.75" font-family="DejaVu Sans" font-size="10.00">Δt=1.61 s</text>
<text xml:space="preserve" text-anchor="middle" x="1505.77" y="-795" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(3.86 s)</text>
</g>
<!-- Load and prepare T1 maps -->
<g id="node6" class="node">
<title>Load and prepare T1 maps</title>
<path fill="azure" stroke="black" stroke-width="2" d="M1873.21,-1057C1873.21,-1057 1506.71,-1057 1506.71,-1057 1500.71,-1057 1494.71,-1051 1494.71,-1045 1494.71,-1045 1494.71,-905 1494.71,-905 1494.71,-899 1500.71,-893 1506.71,-893 1506.71,-893 1873.21,-893 1873.21,-893 1879.21,-893 1885.21,-899 1885.21,-905 1885.21,-905 1885.21,-1045 1885.21,-1045 1885.21,-1051 1879.21,-1057 1873.21,-1057"/>
<polygon fill="#f8ec99" stroke="none" points="1504.71,-1033.75 1504.71,-1051 1875.21,-1051 1875.21,-1033.75 1504.71,-1033.75"/>
<text xml:space="preserve" text-anchor="start" x="1563.21" y="-1038.7" font-family="DejaVu Sans" font-weight="bold" font-size="14.00">Step: Load and prepare the T1 maps</text>
<text xml:space="preserve" text-anchor="start" x="1504.71" y="-1018.45" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="1504.71" y="-1000.2" font-family="DejaVu Sans" font-style="italic" font-size="14.00">Description: Only one T1 map is loaded at the</text>
<text xml:space="preserve" text-anchor="start" x="1504.71" y="-980.95" font-family="DejaVu Sans" font-style="italic" font-size="14.00">moment and used for each metabolite.</text>
<text xml:space="preserve" text-anchor="start" x="1504.71" y="-960.7" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="1504.71" y="-941.45" font-family="DejaVu Sans" font-size="14.00">☐ Use for each metabolite a corresponding T1 map.</text>
<text xml:space="preserve" text-anchor="start" x="1504.71" y="-922.2" font-family="DejaVu Sans" font-size="14.00">☐ Scale map not manually below to [ms]</text>
<text xml:space="preserve" text-anchor="start" x="1504.71" y="-902.95" font-family="DejaVu Sans" font-size="14.00">⚠ The same one T1 map is for each metabolite used!</text>
</g>
<!-- Interpolate T1 -->
<g id="node11" class="node">
<title>Interpolate T1</title>
<path fill="azure" stroke="black" stroke-width="2" d="M1855.09,-731.25C1855.09,-731.25 1700.84,-731.25 1700.84,-731.25 1694.84,-731.25 1688.84,-725.25 1688.84,-719.25 1688.84,-719.25 1688.84,-694.75 1688.84,-694.75 1688.84,-688.75 1694.84,-682.75 1700.84,-682.75 1700.84,-682.75 1855.09,-682.75 1855.09,-682.75 1861.09,-682.75 1867.09,-688.75 1867.09,-694.75 1867.09,-694.75 1867.09,-719.25 1867.09,-719.25 1867.09,-725.25 1861.09,-731.25 1855.09,-731.25"/>
<text xml:space="preserve" text-anchor="start" x="1698.84" y="-711.95" font-family="DejaVu Sans" font-size="14.00">Interpolate T1 maps to</text>
<text xml:space="preserve" text-anchor="start" x="1698.84" y="-692.7" font-family="DejaVu Sans" font-size="14.00">(112, 128, 80)</text>
</g>
<!-- Load and prepare T1 maps&#45;&gt;Interpolate T1 -->
<g id="edge8" class="edge">
<title>Load and prepare T1 maps&#45;&gt;Interpolate T1</title>
<path fill="none" stroke="black" d="M1717.08,-892.02C1733.6,-842.08 1753.87,-780.83 1766.35,-743.11"/>
<polygon fill="black" stroke="black" points="1769.66,-744.23 1769.48,-733.63 1763.02,-742.03 1769.66,-744.23"/>
<text xml:space="preserve" text-anchor="middle" x="1778.37" y="-807.75" font-family="DejaVu Sans" font-size="10.00">Δt=456 ms</text>
<text xml:space="preserve" text-anchor="middle" x="1778.37" y="-795" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(5.92 s)</text>
</g>
<!-- Load and prepare T2 maps -->
<g id="node7" class="node">
<title>Load and prepare T2 maps</title>
<path fill="azure" stroke="black" stroke-width="2" d="M2261.09,-1114.75C2261.09,-1114.75 1914.84,-1114.75 1914.84,-1114.75 1908.84,-1114.75 1902.84,-1108.75 1902.84,-1102.75 1902.84,-1102.75 1902.84,-847.25 1902.84,-847.25 1902.84,-841.25 1908.84,-835.25 1914.84,-835.25 1914.84,-835.25 2261.09,-835.25 2261.09,-835.25 2267.09,-835.25 2273.09,-841.25 2273.09,-847.25 2273.09,-847.25 2273.09,-1102.75 2273.09,-1102.75 2273.09,-1108.75 2267.09,-1114.75 2261.09,-1114.75"/>
<polygon fill="#ff8080" stroke="none" points="1912.84,-1091.5 1912.84,-1108.75 2263.09,-1108.75 2263.09,-1091.5 1912.84,-1091.5"/>
<text xml:space="preserve" text-anchor="start" x="1974.71" y="-1096.45" font-family="DejaVu Sans" font-weight="bold" font-size="14.00">Step: Load and prepare T2 maps</text>
<text xml:space="preserve" text-anchor="start" x="1912.84" y="-1076.2" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="1912.84" y="-1057.95" font-family="DejaVu Sans" font-style="italic" font-size="14.00">Description: At the moment only placeholder data</text>
<text xml:space="preserve" text-anchor="start" x="1912.84" y="-1038.7" font-family="DejaVu Sans" font-style="italic" font-size="14.00">is used. Therefore, mean values of certain regions</text>
<text xml:space="preserve" text-anchor="start" x="1912.84" y="-1019.45" font-family="DejaVu Sans" font-style="italic" font-size="14.00">in brain from paper cited in the code.</text>
<text xml:space="preserve" text-anchor="start" x="1912.84" y="-999.2" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="1912.84" y="-979.95" font-family="DejaVu Sans" font-size="14.00">☑ Using literature values at the first step:</text>
<text xml:space="preserve" text-anchor="start" x="1912.84" y="-960.7" font-family="DejaVu Sans" font-size="14.00">​    random values from distribution exhibiting mu</text>
<text xml:space="preserve" text-anchor="start" x="1912.84" y="-941.45" font-family="DejaVu Sans" font-size="14.00">​    and sigma.</text>
<text xml:space="preserve" text-anchor="start" x="1912.84" y="-922.2" font-family="DejaVu Sans" font-size="14.00">☐ Check if T2 and T2* correctly applied in code!</text>
<text xml:space="preserve" text-anchor="start" x="1912.84" y="-902.95" font-family="DejaVu Sans" font-size="14.00">☐ Using T2 and T2* values from literature</text>
<text xml:space="preserve" text-anchor="start" x="1912.84" y="-883.7" font-family="DejaVu Sans" font-size="14.00">☐ Using a T2 and T2* map for each metabolite</text>
<text xml:space="preserve" text-anchor="start" x="1912.84" y="-864.45" font-family="DejaVu Sans" font-size="14.00">⚠ Using at the moment T2* for T2 values. Change</text>
<text xml:space="preserve" text-anchor="start" x="1912.84" y="-845.2" font-family="DejaVu Sans" font-size="14.00">​    this!!!</text>
</g>
<!-- Interpolate T2 -->
<g id="node12" class="node">
<title>Interpolate T2</title>
<path fill="azure" stroke="black" stroke-width="2" d="M2051.09,-731.25C2051.09,-731.25 1896.84,-731.25 1896.84,-731.25 1890.84,-731.25 1884.84,-725.25 1884.84,-719.25 1884.84,-719.25 1884.84,-694.75 1884.84,-694.75 1884.84,-688.75 1890.84,-682.75 1896.84,-682.75 1896.84,-682.75 2051.09,-682.75 2051.09,-682.75 2057.09,-682.75 2063.09,-688.75 2063.09,-694.75 2063.09,-694.75 2063.09,-719.25 2063.09,-719.25 2063.09,-725.25 2057.09,-731.25 2051.09,-731.25"/>
<text xml:space="preserve" text-anchor="start" x="1894.84" y="-711.95" font-family="DejaVu Sans" font-size="14.00">Interpolate T2 maps to</text>
<text xml:space="preserve" text-anchor="start" x="1894.84" y="-692.7" font-family="DejaVu Sans" font-size="14.00">(112, 128, 80)</text>
</g>
<!-- Load and prepare T2 maps&#45;&gt;Interpolate T2 -->
<g id="edge10" class="edge">
<title>Load and prepare T2 maps&#45;&gt;Interpolate T2</title>
<path fill="none" stroke="black" d="M2028.12,-834.38C2013.39,-800.01 1998.91,-766.23 1988.64,-742.25"/>
<polygon fill="black" stroke="black" points="1991.98,-741.16 1984.82,-733.35 1985.55,-743.92 1991.98,-741.16"/>
<text xml:space="preserve" text-anchor="middle" x="2049.63" y="-807.75" font-family="DejaVu Sans" font-size="10.00">Δt=247 ms</text>
<text xml:space="preserve" text-anchor="middle" x="2049.63" y="-795" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(7.41 s)</text>
</g>
<!-- Partially FID -->
<g id="node8" class="node">
<title>Partially FID</title>
<path fill="azure" stroke="black" stroke-width="2" d="M2198.46,-559.5C2198.46,-559.5 1815.46,-559.5 1815.46,-559.5 1809.46,-559.5 1803.46,-553.5 1803.46,-547.5 1803.46,-547.5 1803.46,-330.5 1803.46,-330.5 1803.46,-324.5 1809.46,-318.5 1815.46,-318.5 1815.46,-318.5 2198.46,-318.5 2198.46,-318.5 2204.46,-318.5 2210.46,-324.5 2210.46,-330.5 2210.46,-330.5 2210.46,-547.5 2210.46,-547.5 2210.46,-553.5 2204.46,-559.5 2198.46,-559.5"/>
<polygon fill="#a1ddb2" stroke="none" points="1813.46,-536.25 1813.46,-553.5 2200.46,-553.5 2200.46,-536.25 1813.46,-536.25"/>
<text xml:space="preserve" text-anchor="start" x="1945.46" y="-541.2" font-family="DejaVu Sans" font-weight="bold" font-size="14.00">Step: Partially FID</text>
<text xml:space="preserve" text-anchor="start" x="1813.46" y="-520.95" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="1813.46" y="-502.7" font-family="DejaVu Sans" font-style="italic" font-size="14.00">Description: Take a subset of all desired signals of</text>
<text xml:space="preserve" text-anchor="start" x="1813.46" y="-483.45" font-family="DejaVu Sans" font-style="italic" font-size="14.00">the FID. Some signals need to be combined individually</text>
<text xml:space="preserve" text-anchor="start" x="1813.46" y="-464.2" font-family="DejaVu Sans" font-style="italic" font-size="14.00">by adding them and dividing it then by a certain</text>
<text xml:space="preserve" text-anchor="start" x="1813.46" y="-444.95" font-family="DejaVu Sans" font-style="italic" font-size="14.00">factor.</text>
<text xml:space="preserve" text-anchor="start" x="1813.46" y="-424.7" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="1813.46" y="-405.45" font-family="DejaVu Sans" font-size="14.00">☑ Combine Creatine ( Cr ) and Phosphocreatine ( PCr )</text>
<text xml:space="preserve" text-anchor="start" x="1813.46" y="-386.2" font-family="DejaVu Sans" font-size="14.00">​    &#45;&gt; Cr+PCr (divisor = 2)</text>
<text xml:space="preserve" text-anchor="start" x="1813.46" y="-366.95" font-family="DejaVu Sans" font-size="14.00">☑ Combine Choline_moi( GPC ) and Glycerol_moi( GPC )</text>
<text xml:space="preserve" text-anchor="start" x="1813.46" y="-347.7" font-family="DejaVu Sans" font-size="14.00">​    and PhosphorylCholine_new1 ( PC ) &#45;&gt; GPC+PCh</text>
<text xml:space="preserve" text-anchor="start" x="1813.46" y="-328.45" font-family="DejaVu Sans" font-size="14.00">​    (divisor = 2)</text>
</g>
<!-- Create Metabolic Property Maps -->
<g id="node15" class="node">
<title>Create Metabolic Property Maps</title>
<path fill="azure" stroke="black" stroke-width="2" d="M2680.84,-569.12C2680.84,-569.12 2309.09,-569.12 2309.09,-569.12 2303.09,-569.12 2297.09,-563.12 2297.09,-557.12 2297.09,-557.12 2297.09,-320.88 2297.09,-320.88 2297.09,-314.88 2303.09,-308.88 2309.09,-308.88 2309.09,-308.88 2680.84,-308.88 2680.84,-308.88 2686.84,-308.88 2692.84,-314.88 2692.84,-320.88 2692.84,-320.88 2692.84,-557.12 2692.84,-557.12 2692.84,-563.12 2686.84,-569.12 2680.84,-569.12"/>
<polygon fill="#f8ec99" stroke="none" points="2307.09,-545.88 2307.09,-563.12 2682.84,-563.12 2682.84,-545.88 2307.09,-545.88"/>
<text xml:space="preserve" text-anchor="start" x="2364.84" y="-550.83" font-family="DejaVu Sans" font-weight="bold" font-size="14.00">Step: Create Metabolic Property Maps</text>
<text xml:space="preserve" text-anchor="start" x="2307.09" y="-530.58" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="2307.09" y="-512.33" font-family="DejaVu Sans" font-style="italic" font-size="14.00">Description: Create dictionary of Metabolic</text>
<text xml:space="preserve" text-anchor="start" x="2307.09" y="-493.07" font-family="DejaVu Sans" font-style="italic" font-size="14.00">Property Maps, where each contains the T1 map, T2</text>
<text xml:space="preserve" text-anchor="start" x="2307.09" y="-473.82" font-family="DejaVu Sans" font-style="italic" font-size="14.00">map, concentration map of the respective</text>
<text xml:space="preserve" text-anchor="start" x="2307.09" y="-454.57" font-family="DejaVu Sans" font-style="italic" font-size="14.00">metabolite. Using dask block size: (20, 112, 128,</text>
<text xml:space="preserve" text-anchor="start" x="2307.09" y="-435.32" font-family="DejaVu Sans" font-style="italic" font-size="14.00">80)</text>
<text xml:space="preserve" text-anchor="start" x="2307.09" y="-415.07" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="2307.09" y="-395.82" font-family="DejaVu Sans" font-size="14.00">☐ Print number of blocks and memory used per block</text>
<text xml:space="preserve" text-anchor="start" x="2307.09" y="-376.57" font-family="DejaVu Sans" font-size="14.00">☐ Ok to work with units programmatically? E.g.</text>
<text xml:space="preserve" text-anchor="start" x="2307.09" y="-357.32" font-family="DejaVu Sans" font-size="14.00">​    here for concentration mmol, T1 and T2 ms.</text>
<text xml:space="preserve" text-anchor="start" x="2307.09" y="-338.07" font-family="DejaVu Sans" font-size="14.00">⚠ Try blocksize (5, 56, 64, 40) for 100.000 FID</text>
<text xml:space="preserve" text-anchor="start" x="2307.09" y="-318.82" font-family="DejaVu Sans" font-size="14.00">​    points.</text>
</g>
<!-- Partially FID&#45;&gt;Create Metabolic Property Maps -->
<g id="edge12" class="edge">
<title>Partially FID&#45;&gt;Create Metabolic Property Maps</title>
<path fill="none" stroke="black" d="M2211.44,-439C2235.66,-439 2260.42,-439 2284.72,-439"/>
<polygon fill="black" stroke="black" points="2284.71,-442.5 2294.71,-439 2284.71,-435.5 2284.71,-442.5"/>
<text xml:space="preserve" text-anchor="middle" x="2253.77" y="-458" font-family="DejaVu Sans" font-size="10.00">Δt=12.5 ms</text>
<text xml:space="preserve" text-anchor="middle" x="2253.77" y="-445.25" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(7.84 s)</text>
</g>
<!-- Load and prepare coil sensitivity maps -->
<g id="node9" class="node">
<title>Load and prepare coil sensitivity maps</title>
<path fill="azure" stroke="black" stroke-width="2" d="M1045.09,-1018.5C1045.09,-1018.5 686.84,-1018.5 686.84,-1018.5 680.84,-1018.5 674.84,-1012.5 674.84,-1006.5 674.84,-1006.5 674.84,-943.5 674.84,-943.5 674.84,-937.5 680.84,-931.5 686.84,-931.5 686.84,-931.5 1045.09,-931.5 1045.09,-931.5 1051.09,-931.5 1057.09,-937.5 1057.09,-943.5 1057.09,-943.5 1057.09,-1006.5 1057.09,-1006.5 1057.09,-1012.5 1051.09,-1018.5 1045.09,-1018.5"/>
<text xml:space="preserve" text-anchor="start" x="684.84" y="-999.2" font-family="DejaVu Sans" font-size="14.00">Load and prepare coil sensitivity maps. ⚠ Only</text>
<text xml:space="preserve" text-anchor="start" x="684.84" y="-979.95" font-family="DejaVu Sans" font-size="14.00">HDF5 files are supported at the moment, where img</text>
<text xml:space="preserve" text-anchor="start" x="684.84" y="-960.7" font-family="DejaVu Sans" font-size="14.00">and real is separate. It gets combined to complex</text>
<text xml:space="preserve" text-anchor="start" x="684.84" y="-941.45" font-family="DejaVu Sans" font-size="14.00">number..</text>
</g>
<!-- Interpolate coil sensitivity -->
<g id="node13" class="node">
<title>Interpolate coil sensitivity</title>
<path fill="azure" stroke="black" stroke-width="2" d="M1444.71,-740.88C1444.71,-740.88 1285.21,-740.88 1285.21,-740.88 1279.21,-740.88 1273.21,-734.88 1273.21,-728.88 1273.21,-728.88 1273.21,-685.12 1273.21,-685.12 1273.21,-679.12 1279.21,-673.12 1285.21,-673.12 1285.21,-673.12 1444.71,-673.12 1444.71,-673.12 1450.71,-673.12 1456.71,-679.12 1456.71,-685.12 1456.71,-685.12 1456.71,-728.88 1456.71,-728.88 1456.71,-734.88 1450.71,-740.88 1444.71,-740.88"/>
<text xml:space="preserve" text-anchor="start" x="1283.21" y="-721.58" font-family="DejaVu Sans" font-size="14.00">Interpolate coil</text>
<text xml:space="preserve" text-anchor="start" x="1283.21" y="-702.33" font-family="DejaVu Sans" font-size="14.00">sensitivity maps to (32,</text>
<text xml:space="preserve" text-anchor="start" x="1283.21" y="-683.08" font-family="DejaVu Sans" font-size="14.00">112, 128, 80)</text>
</g>
<!-- Load and prepare coil sensitivity maps&#45;&gt;Interpolate coil sensitivity -->
<g id="edge17" class="edge">
<title>Load and prepare coil sensitivity maps&#45;&gt;Interpolate coil sensitivity</title>
<path fill="none" stroke="black" d="M922.05,-930.75C961.31,-901.61 1015.72,-863.5 1066.96,-835.25 1129.7,-800.66 1203.77,-768.99 1262.36,-745.9"/>
<polygon fill="black" stroke="black" points="1263.3,-749.29 1271.34,-742.39 1260.75,-742.77 1263.3,-749.29"/>
<text xml:space="preserve" text-anchor="middle" x="1182.01" y="-807.75" font-family="DejaVu Sans" font-size="10.00">Δt=395 ms</text>
<text xml:space="preserve" text-anchor="middle" x="1182.01" y="-795" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(2.77 min)</text>
</g>
<!-- Interpolate concentration maps&#45;&gt;Load and prepare T1 maps -->
<g id="edge7" class="edge">
<title>Interpolate concentration maps&#45;&gt;Load and prepare T1 maps</title>
<path fill="none" stroke="black" d="M1583.6,-732.2C1598.38,-765.79 1625.93,-828.43 1649.29,-881.54"/>
<polygon fill="black" stroke="black" points="1646.06,-882.89 1653.29,-890.64 1652.47,-880.07 1646.06,-882.89"/>
<text xml:space="preserve" text-anchor="middle" x="1649.86" y="-807.75" font-family="DejaVu Sans" font-size="10.00">Δt=1.6 s</text>
<text xml:space="preserve" text-anchor="middle" x="1649.86" y="-795" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(5.46 s)</text>
</g>
<!-- Interpolate T1&#45;&gt;Load and prepare T2 maps -->
<g id="edge9" class="edge">
<title>Interpolate T1&#45;&gt;Load and prepare T2 maps</title>
<path fill="none" stroke="black" d="M1806.14,-732.18C1832.32,-754.64 1873.62,-790.08 1916.63,-826.98"/>
<polygon fill="black" stroke="black" points="1914.23,-829.54 1924.1,-833.39 1918.79,-824.22 1914.23,-829.54"/>
<text xml:space="preserve" text-anchor="middle" x="1934.07" y="-807.75" font-family="DejaVu Sans" font-size="10.00">Δt=1.24 s</text>
<text xml:space="preserve" text-anchor="middle" x="1934.07" y="-795" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(7.16 s)</text>
</g>
<!-- Interpolate T2&#45;&gt;Partially FID -->
<g id="edge11" class="edge">
<title>Interpolate T2&#45;&gt;Partially FID</title>
<path fill="none" stroke="black" d="M1976.95,-681.93C1980.12,-656.39 1985.38,-613.98 1990.62,-571.74"/>
<polygon fill="black" stroke="black" points="1994.08,-572.29 1991.83,-561.94 1987.13,-571.43 1994.08,-572.29"/>
<text xml:space="preserve" text-anchor="middle" x="2012.59" y="-636" font-family="DejaVu Sans" font-size="10.00">Δt=425 ms</text>
<text xml:space="preserve" text-anchor="middle" x="2012.59" y="-623.25" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(7.83 s)</text>
</g>
<!-- Create Sampling Model -->
<g id="node17" class="node">
<title>Create Sampling Model</title>
<path fill="azure" stroke="black" stroke-width="2" d="M3059.21,-530.62C3059.21,-530.62 2722.71,-530.62 2722.71,-530.62 2716.71,-530.62 2710.71,-524.62 2710.71,-518.62 2710.71,-518.62 2710.71,-359.38 2710.71,-359.38 2710.71,-353.38 2716.71,-347.38 2722.71,-347.38 2722.71,-347.38 3059.21,-347.38 3059.21,-347.38 3065.21,-347.38 3071.21,-353.38 3071.21,-359.38 3071.21,-359.38 3071.21,-518.62 3071.21,-518.62 3071.21,-524.62 3065.21,-530.62 3059.21,-530.62"/>
<polygon fill="#f8ec99" stroke="none" points="2720.71,-507.38 2720.71,-524.62 3061.21,-524.62 3061.21,-507.38 2720.71,-507.38"/>
<text xml:space="preserve" text-anchor="start" x="2790.46" y="-512.33" font-family="DejaVu Sans" font-weight="bold" font-size="14.00">Step: Create Sampling Model</text>
<text xml:space="preserve" text-anchor="start" x="2720.71" y="-492.07" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="2720.71" y="-473.82" font-family="DejaVu Sans" font-style="italic" font-size="14.00">Description: `To create plain sampling model and</text>
<text xml:space="preserve" text-anchor="start" x="2720.71" y="-454.57" font-family="DejaVu Sans" font-style="italic" font-size="14.00">then apply the coil sensitivity maps.</text>
<text xml:space="preserve" text-anchor="start" x="2720.71" y="-434.32" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="2720.71" y="-415.07" font-family="DejaVu Sans" font-size="14.00">This includes 32 coild sensitivity maps and thus</text>
<text xml:space="preserve" text-anchor="start" x="2720.71" y="-395.82" font-family="DejaVu Sans" font-size="14.00">extends the shape from [t,x1,x2,x3]</text>
<text xml:space="preserve" text-anchor="start" x="2720.71" y="-376.57" font-family="DejaVu Sans" font-size="14.00">to [coils, t, x1,x2,x3].`</text>
<text xml:space="preserve" text-anchor="start" x="2720.71" y="-357.32" font-family="DejaVu Sans" font-size="14.00">☐ fix that path cache has no effect!</text>
</g>
<!-- Interpolate coil sensitivity&#45;&gt;Create Sampling Model -->
<g id="edge18" class="edge">
<title>Interpolate coil sensitivity&#45;&gt;Create Sampling Model</title>
<path fill="none" stroke="black" d="M1421.46,-672.21C1435.53,-665.37 1450.91,-659.16 1465.96,-655.5 1506.56,-645.63 2176.21,-647.22 2217.96,-645.5 2325.68,-641.06 2602.82,-654.35 2701.96,-612 2740.72,-595.44 2776.75,-567.48 2806.73,-538.87"/>
<polygon fill="black" stroke="black" points="2808.81,-541.72 2813.53,-532.24 2803.92,-536.71 2808.81,-541.72"/>
<text xml:space="preserve" text-anchor="middle" x="2707.55" y="-636" font-family="DejaVu Sans" font-size="10.00">Δt=1.57 s</text>
<text xml:space="preserve" text-anchor="middle" x="2707.55" y="-623.25" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(2.8 min)</text>
</g>
<!-- Interpolate coil sensitivity (ifft) -->
<g id="node14" class="node">
<title>Interpolate coil sensitivity (ifft)</title>
<path fill="azure" stroke="black" stroke-width="2" d="M2252.71,-750.5C2252.71,-750.5 2093.21,-750.5 2093.21,-750.5 2087.21,-750.5 2081.21,-744.5 2081.21,-738.5 2081.21,-738.5 2081.21,-675.5 2081.21,-675.5 2081.21,-669.5 2087.21,-663.5 2093.21,-663.5 2093.21,-663.5 2252.71,-663.5 2252.71,-663.5 2258.71,-663.5 2264.71,-669.5 2264.71,-675.5 2264.71,-675.5 2264.71,-738.5 2264.71,-738.5 2264.71,-744.5 2258.71,-750.5 2252.71,-750.5"/>
<text xml:space="preserve" text-anchor="start" x="2091.21" y="-731.2" font-family="DejaVu Sans" font-size="14.00">Interpolate coil</text>
<text xml:space="preserve" text-anchor="start" x="2091.21" y="-711.95" font-family="DejaVu Sans" font-size="14.00">sensitivity maps to (32,</text>
<text xml:space="preserve" text-anchor="start" x="2091.21" y="-692.7" font-family="DejaVu Sans" font-size="14.00">64, 64, 40). For Coil</text>
<text xml:space="preserve" text-anchor="start" x="2091.21" y="-673.45" font-family="DejaVu Sans" font-size="14.00">combination after IFFT.</text>
</g>
<!-- Compute the forward process -->
<g id="node20" class="node">
<title>Compute the forward process</title>
<path fill="azure" stroke="black" stroke-width="2" d="M638.46,-578.75C638.46,-578.75 273.46,-578.75 273.46,-578.75 267.46,-578.75 261.46,-572.75 261.46,-566.75 261.46,-566.75 261.46,-311.25 261.46,-311.25 261.46,-305.25 267.46,-299.25 273.46,-299.25 273.46,-299.25 638.46,-299.25 638.46,-299.25 644.46,-299.25 650.46,-305.25 650.46,-311.25 650.46,-311.25 650.46,-566.75 650.46,-566.75 650.46,-572.75 644.46,-578.75 638.46,-578.75"/>
<polygon fill="#a1ddb2" stroke="none" points="271.46,-555.5 271.46,-572.75 640.46,-572.75 640.46,-555.5 271.46,-555.5"/>
<text xml:space="preserve" text-anchor="start" x="332.96" y="-560.45" font-family="DejaVu Sans" font-weight="bold" font-size="14.00">Step: Compute the forward process</text>
<text xml:space="preserve" text-anchor="start" x="271.46" y="-540.2" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="271.46" y="-521.95" font-family="DejaVu Sans" font-style="italic" font-size="14.00">Description: `This computes the sampling model and</text>
<text xml:space="preserve" text-anchor="start" x="271.46" y="-502.7" font-family="DejaVu Sans" font-style="italic" font-size="14.00">also includes a forward process to check the</text>
<text xml:space="preserve" text-anchor="start" x="271.46" y="-483.45" font-family="DejaVu Sans" font-style="italic" font-size="14.00">data.`</text>
<text xml:space="preserve" text-anchor="start" x="271.46" y="-463.2" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="271.46" y="-443.95" font-family="DejaVu Sans" font-size="14.00">☑ 1. Bring to k&#45;space (thus FFT to dimensions</text>
<text xml:space="preserve" text-anchor="start" x="271.46" y="-424.7" font-family="DejaVu Sans" font-size="14.00">​    1,2,3 excluding 0)</text>
<text xml:space="preserve" text-anchor="start" x="271.46" y="-405.45" font-family="DejaVu Sans" font-size="14.00">☑ 2. Crop the center to (64, 64, 40)</text>
<text xml:space="preserve" text-anchor="start" x="271.46" y="-386.2" font-family="DejaVu Sans" font-size="14.00">☑ 3. IFFT back to image space</text>
<text xml:space="preserve" text-anchor="start" x="271.46" y="-366.95" font-family="DejaVu Sans" font-size="14.00">☑ 4. Interpolate coil sensitivity maps to (64, 64,</text>
<text xml:space="preserve" text-anchor="start" x="271.46" y="-347.7" font-family="DejaVu Sans" font-size="14.00">​    40)</text>
<text xml:space="preserve" text-anchor="start" x="271.46" y="-328.45" font-family="DejaVu Sans" font-size="14.00">☑ 5. Could combination with resized coil</text>
<text xml:space="preserve" text-anchor="start" x="271.46" y="-309.2" font-family="DejaVu Sans" font-size="14.00">​    sensitivity maps</text>
</g>
<!-- Interpolate coil sensitivity (ifft)&#45;&gt;Compute the forward process -->
<g id="edge21" class="edge">
<title>Interpolate coil sensitivity (ifft)&#45;&gt;Compute the forward process</title>
<path fill="none" stroke="black" d="M2094.3,-662.53C2086.9,-659.72 2079.39,-657.3 2071.96,-655.5 2020.1,-642.97 1165.01,-647.76 1111.71,-645.5 911.89,-637.01 848.4,-686.91 662.96,-612 645.67,-605.01 628.74,-596.03 612.47,-585.83"/>
<polygon fill="black" stroke="black" points="614.54,-583 604.25,-580.51 610.74,-588.88 614.54,-583"/>
<text xml:space="preserve" text-anchor="middle" x="1147.34" y="-636" font-family="DejaVu Sans" font-size="10.00">Δt=138 ms</text>
<text xml:space="preserve" text-anchor="middle" x="1147.34" y="-623.25" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(3.75 min)</text>
</g>
<!-- Spectral&#45;spatial combination -->
<g id="node16" class="node">
<title>Spectral&#45;spatial combination</title>
<path fill="azure" stroke="black" stroke-width="2" d="M2637.34,-237.75C2637.34,-237.75 2322.59,-237.75 2322.59,-237.75 2316.59,-237.75 2310.59,-231.75 2310.59,-225.75 2310.59,-225.75 2310.59,-28 2310.59,-28 2310.59,-22 2316.59,-16 2322.59,-16 2322.59,-16 2637.34,-16 2637.34,-16 2643.34,-16 2649.34,-22 2649.34,-28 2649.34,-28 2649.34,-225.75 2649.34,-225.75 2649.34,-231.75 2643.34,-237.75 2637.34,-237.75"/>
<polygon fill="#f8ec99" stroke="none" points="2320.59,-214.5 2320.59,-231.75 2639.34,-231.75 2639.34,-214.5 2320.59,-214.5"/>
<text xml:space="preserve" text-anchor="start" x="2360.71" y="-219.45" font-family="DejaVu Sans" font-weight="bold" font-size="14.00">Step: Spectral&#45;spatial combination</text>
<text xml:space="preserve" text-anchor="start" x="2320.59" y="-199.2" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="2320.59" y="-180.95" font-family="DejaVu Sans" font-style="italic" font-size="14.00">Description: Combines spectral part (FID) and</text>
<text xml:space="preserve" text-anchor="start" x="2320.59" y="-161.7" font-family="DejaVu Sans" font-style="italic" font-size="14.00">spatial parts (Metabolic Property Maps). It</text>
<text xml:space="preserve" text-anchor="start" x="2320.59" y="-142.45" font-family="DejaVu Sans" font-style="italic" font-size="14.00">includes: FID, T1, T2 effects.</text>
<text xml:space="preserve" text-anchor="start" x="2320.59" y="-122.2" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="2320.59" y="-102.95" font-family="DejaVu Sans" font-size="14.00">☑ V_out = V_in * sin(α) * (1&#45;e^(TR/T1)) /</text>
<text xml:space="preserve" text-anchor="start" x="2320.59" y="-83.7" font-family="DejaVu Sans" font-size="14.00">​    (1&#45;cos(α)*e^(&#45;TR/T1))</text>
<text xml:space="preserve" text-anchor="start" x="2320.59" y="-64.45" font-family="DejaVu Sans" font-size="14.00">☑ V_out = V_in * e^(&#45;TE+t)/T2</text>
<text xml:space="preserve" text-anchor="start" x="2320.59" y="-45.2" font-family="DejaVu Sans" font-size="14.00">☐ Adding B0 inhomogeneity</text>
<text xml:space="preserve" text-anchor="start" x="2320.59" y="-25.95" font-family="DejaVu Sans" font-size="14.00">⚠ Using dask block size: (20, 112, 128, 80)</text>
</g>
<!-- Create Metabolic Property Maps&#45;&gt;Spectral&#45;spatial combination -->
<g id="edge13" class="edge">
<title>Create Metabolic Property Maps&#45;&gt;Spectral&#45;spatial combination</title>
<path fill="none" stroke="black" d="M2488.69,-308.28C2487.75,-288.85 2486.78,-268.88 2485.85,-249.63"/>
<polygon fill="black" stroke="black" points="2489.36,-249.72 2485.38,-239.9 2482.37,-250.06 2489.36,-249.72"/>
<text xml:space="preserve" text-anchor="middle" x="2515.89" y="-271.75" font-family="DejaVu Sans" font-size="10.00">Δt=240 ms</text>
<text xml:space="preserve" text-anchor="middle" x="2515.89" y="-259" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(8.08 s)</text>
</g>
<!-- Investigate effects on the spectrum -->
<g id="node18" class="node">
<title>Investigate effects on the spectrum</title>
<path fill="azure" stroke="black" stroke-width="2" d="M230.96,-501.75C230.96,-501.75 66.96,-501.75 66.96,-501.75 60.96,-501.75 54.96,-495.75 54.96,-489.75 54.96,-489.75 54.96,-388.25 54.96,-388.25 54.96,-382.25 60.96,-376.25 66.96,-376.25 66.96,-376.25 230.96,-376.25 230.96,-376.25 236.96,-376.25 242.96,-382.25 242.96,-388.25 242.96,-388.25 242.96,-489.75 242.96,-489.75 242.96,-495.75 236.96,-501.75 230.96,-501.75"/>
<text xml:space="preserve" text-anchor="start" x="64.96" y="-482.45" font-family="DejaVu Sans" font-size="14.00">Show T1, T2,</text>
<text xml:space="preserve" text-anchor="start" x="64.96" y="-463.2" font-family="DejaVu Sans" font-size="14.00">concentration effects on</text>
<text xml:space="preserve" text-anchor="start" x="64.96" y="-443.95" font-family="DejaVu Sans" font-size="14.00">the spectrum, thus</text>
<text xml:space="preserve" text-anchor="start" x="64.96" y="-424.7" font-family="DejaVu Sans" font-size="14.00">compute part of graph.</text>
<text xml:space="preserve" text-anchor="start" x="64.96" y="-405.45" font-family="DejaVu Sans" font-size="14.00">Voxel chosen: (40, 40,</text>
<text xml:space="preserve" text-anchor="start" x="64.96" y="-386.2" font-family="DejaVu Sans" font-size="14.00">40).</text>
</g>
<!-- Spectral&#45;spatial combination&#45;&gt;Investigate effects on the spectrum -->
<g id="edge14" class="edge">
<title>Spectral&#45;spatial combination&#45;&gt;Investigate effects on the spectrum</title>
<path fill="none" stroke="black" d="M2309.63,-137.14C1804.26,-165.12 342.82,-249.9 252.96,-299.25 225.35,-314.41 202.94,-340.36 186.08,-365.74"/>
<polygon fill="black" stroke="black" points="183.15,-363.83 180.71,-374.14 189.05,-367.6 183.15,-363.83"/>
<text xml:space="preserve" text-anchor="middle" x="553.71" y="-271.75" font-family="DejaVu Sans" font-size="10.00">Δt=117 ms</text>
<text xml:space="preserve" text-anchor="middle" x="553.71" y="-259" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(8.2 s)</text>
</g>
<!-- Cartesian Fourier Transformation -->
<g id="node21" class="node">
<title>Cartesian Fourier Transformation</title>
<path fill="azure" stroke="black" stroke-width="2" d="M2858.21,-1008.88C2858.21,-1008.88 2509.71,-1008.88 2509.71,-1008.88 2503.71,-1008.88 2497.71,-1002.88 2497.71,-996.88 2497.71,-996.88 2497.71,-953.12 2497.71,-953.12 2497.71,-947.12 2503.71,-941.12 2509.71,-941.12 2509.71,-941.12 2858.21,-941.12 2858.21,-941.12 2864.21,-941.12 2870.21,-947.12 2870.21,-953.12 2870.21,-953.12 2870.21,-996.88 2870.21,-996.88 2870.21,-1002.88 2864.21,-1008.88 2858.21,-1008.88"/>
<text xml:space="preserve" text-anchor="start" x="2507.71" y="-989.58" font-family="DejaVu Sans" font-size="14.00">To bring the 4D volume of each coil to k&#45;space and</text>
<text xml:space="preserve" text-anchor="start" x="2507.71" y="-970.33" font-family="DejaVu Sans" font-size="14.00">to spatially crop the center for each to (64, 64,</text>
<text xml:space="preserve" text-anchor="start" x="2507.71" y="-951.08" font-family="DejaVu Sans" font-size="14.00">40).</text>
</g>
<!-- Create Sampling Model&#45;&gt;Cartesian Fourier Transformation -->
<g id="edge19" class="edge">
<title>Create Sampling Model&#45;&gt;Cartesian Fourier Transformation</title>
<path fill="none" stroke="black" d="M2855.45,-531.6C2810.53,-647.5 2734.94,-842.49 2701.17,-929.62"/>
<polygon fill="black" stroke="black" points="2697.96,-928.19 2697.61,-938.78 2704.49,-930.72 2697.96,-928.19"/>
<text xml:space="preserve" text-anchor="middle" x="2837.27" y="-710.25" font-family="DejaVu Sans" font-size="10.00">Δt=402 ms</text>
<text xml:space="preserve" text-anchor="middle" x="2837.27" y="-697.5" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(2.8 min)</text>
</g>
<!-- Compute spectral&#45;spatial model -->
<g id="node19" class="node">
<title>Compute spectral&#45;spatial model</title>
<path fill="azure" stroke="black" stroke-width="2" d="M280.59,-144.88C280.59,-144.88 67.34,-144.88 67.34,-144.88 61.34,-144.88 55.34,-138.88 55.34,-132.88 55.34,-132.88 55.34,-120.88 55.34,-120.88 55.34,-114.88 61.34,-108.88 67.34,-108.88 67.34,-108.88 280.59,-108.88 280.59,-108.88 286.59,-108.88 292.59,-114.88 292.59,-120.88 292.59,-120.88 292.59,-132.88 292.59,-132.88 292.59,-138.88 286.59,-144.88 280.59,-144.88"/>
<text xml:space="preserve" text-anchor="middle" x="173.96" y="-122.2" font-family="DejaVu Sans" font-size="14.00">Compute spectral&#45;spatial model</text>
</g>
<!-- Investigate effects on the spectrum&#45;&gt;Compute spectral&#45;spatial model -->
<g id="edge15" class="edge">
<title>Investigate effects on the spectrum&#45;&gt;Compute spectral&#45;spatial model</title>
<path fill="none" stroke="black" d="M153.99,-375.61C159.35,-309.11 167.61,-206.68 171.62,-156.95"/>
<polygon fill="black" stroke="black" points="175.08,-157.53 172.4,-147.28 168.1,-156.97 175.08,-157.53"/>
<text xml:space="preserve" text-anchor="middle" x="195.58" y="-271.75" font-family="DejaVu Sans" font-size="10.00">Δt=1.76 min</text>
<text xml:space="preserve" text-anchor="middle" x="195.58" y="-259" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(1.9 min)</text>
</g>
<!-- Compute spectral&#45;spatial model&#45;&gt;Load and prepare coil sensitivity maps -->
<g id="edge16" class="edge">
<title>Compute spectral&#45;spatial model&#45;&gt;Load and prepare coil sensitivity maps</title>
<path fill="none" stroke="black" d="M154.39,-145.53C124.2,-174.24 67.5,-234.41 45.96,-299.25 2.14,-431.16 -29.93,-495.54 45.96,-612 181.6,-820.15 466.98,-909.47 662.57,-947.22"/>
<polygon fill="black" stroke="black" points="661.9,-950.65 672.37,-949.08 663.2,-943.78 661.9,-950.65"/>
<text xml:space="preserve" text-anchor="middle" x="102.73" y="-636" font-family="DejaVu Sans" font-size="10.00">Δt=51.8 s</text>
<text xml:space="preserve" text-anchor="middle" x="102.73" y="-623.25" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(2.76 min)</text>
</g>
<!-- Cartesian Fourier Transformation&#45;&gt;Interpolate coil sensitivity (ifft) -->
<g id="edge20" class="edge">
<title>Cartesian Fourier Transformation&#45;&gt;Interpolate coil sensitivity (ifft)</title>
<path fill="none" stroke="black" d="M2618.98,-940.18C2529.62,-893.66 2368.28,-809.67 2266.09,-756.48"/>
<polygon fill="black" stroke="black" points="2267.91,-753.48 2257.43,-751.97 2264.68,-759.69 2267.91,-753.48"/>
<text xml:space="preserve" text-anchor="middle" x="2418.32" y="-807.75" font-family="DejaVu Sans" font-size="10.00">Δt=56.8 s</text>
<text xml:space="preserve" text-anchor="middle" x="2418.32" y="-795" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(3.75 min)</text>
</g>
</g>
</svg>
