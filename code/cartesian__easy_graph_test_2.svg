<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.0.5 (20251129.0827)
 -->
<!-- Pages: 1 -->
<svg width="3093pt" height="1486pt"
 viewBox="0.00 0.00 3093.00 1486.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1481.5)">
<polygon fill="white" stroke="none" points="-4,4 -4,-1481.5 3089.46,-1481.5 3089.46,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_Initial_configuration</title>
<path fill="#e6e6fa" stroke="grey" stroke-dasharray="5,2" d="M1154.46,-1250.5C1154.46,-1250.5 1420.46,-1250.5 1420.46,-1250.5 1426.46,-1250.5 1432.46,-1256.5 1432.46,-1262.5 1432.46,-1262.5 1432.46,-1457.5 1432.46,-1457.5 1432.46,-1463.5 1426.46,-1469.5 1420.46,-1469.5 1420.46,-1469.5 1154.46,-1469.5 1154.46,-1469.5 1148.46,-1469.5 1142.46,-1463.5 1142.46,-1457.5 1142.46,-1457.5 1142.46,-1262.5 1142.46,-1262.5 1142.46,-1256.5 1148.46,-1250.5 1154.46,-1250.5"/>
<text xml:space="preserve" text-anchor="middle" x="1287.46" y="-1452.2" font-family="DejaVu Sans" font-size="14.00" fill="grey">Initial configuration</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_Load_and_prepare_the_data</title>
<path fill="#e6e6fa" stroke="grey" stroke-dasharray="5,2" d="M679.46,-310.5C679.46,-310.5 2267.46,-310.5 2267.46,-310.5 2273.46,-310.5 2279.46,-316.5 2279.46,-322.5 2279.46,-322.5 2279.46,-1195 2279.46,-1195 2279.46,-1201 2273.46,-1207 2267.46,-1207 2267.46,-1207 679.46,-1207 679.46,-1207 673.46,-1207 667.46,-1201 667.46,-1195 667.46,-1195 667.46,-322.5 667.46,-322.5 667.46,-316.5 673.46,-310.5 679.46,-310.5"/>
<text xml:space="preserve" text-anchor="middle" x="1473.46" y="-1189.7" font-family="DejaVu Sans" font-size="14.00" fill="grey">Load and prepare the data</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_Interpolation</title>
<path fill="#ccccde" stroke="grey" stroke-dasharray="5,2" d="M1275.46,-655.5C1275.46,-655.5 2259.46,-655.5 2259.46,-655.5 2265.46,-655.5 2271.46,-661.5 2271.46,-667.5 2271.46,-667.5 2271.46,-771.75 2271.46,-771.75 2271.46,-777.75 2265.46,-783.75 2259.46,-783.75 2259.46,-783.75 1275.46,-783.75 1275.46,-783.75 1269.46,-783.75 1263.46,-777.75 1263.46,-771.75 1263.46,-771.75 1263.46,-667.5 1263.46,-667.5 1263.46,-661.5 1269.46,-655.5 1275.46,-655.5"/>
<text xml:space="preserve" text-anchor="middle" x="1767.46" y="-766.45" font-family="DejaVu Sans" font-size="14.00" fill="grey">Interpolation</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_Create_models</title>
<path fill="#e6e6fa" stroke="grey" stroke-dasharray="5,2" d="M2299.46,-8C2299.46,-8 3065.46,-8 3065.46,-8 3071.46,-8 3077.46,-14 3077.46,-20 3077.46,-20 3077.46,-590.38 3077.46,-590.38 3077.46,-596.38 3071.46,-602.38 3065.46,-602.38 3065.46,-602.38 2299.46,-602.38 2299.46,-602.38 2293.46,-602.38 2287.46,-596.38 2287.46,-590.38 2287.46,-590.38 2287.46,-20 2287.46,-20 2287.46,-14 2293.46,-8 2299.46,-8"/>
<text xml:space="preserve" text-anchor="middle" x="2682.46" y="-585.08" font-family="DejaVu Sans" font-size="14.00" fill="grey">Create models</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_GPU_cluster</title>
<path fill="#e6e6fa" stroke="grey" stroke-dasharray="5,2" d="M59.46,-100.88C59.46,-100.88 647.46,-100.88 647.46,-100.88 653.46,-100.88 659.46,-106.88 659.46,-112.88 659.46,-112.88 659.46,-600 659.46,-600 659.46,-606 653.46,-612 647.46,-612 647.46,-612 59.46,-612 59.46,-612 53.46,-612 47.46,-606 47.46,-600 47.46,-600 47.46,-112.88 47.46,-112.88 47.46,-106.88 53.46,-100.88 59.46,-100.88"/>
<text xml:space="preserve" text-anchor="middle" x="353.46" y="-594.7" font-family="DejaVu Sans" font-size="14.00" fill="grey">GPU cluster</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_k&#45;space</title>
<path fill="#e6e6fa" stroke="grey" stroke-dasharray="5,2" d="M2500.46,-913.88C2500.46,-913.88 2864.46,-913.88 2864.46,-913.88 2870.46,-913.88 2876.46,-919.88 2876.46,-925.88 2876.46,-925.88 2876.46,-1010.88 2876.46,-1010.88 2876.46,-1016.88 2870.46,-1022.88 2864.46,-1022.88 2864.46,-1022.88 2500.46,-1022.88 2500.46,-1022.88 2494.46,-1022.88 2488.46,-1016.88 2488.46,-1010.88 2488.46,-1010.88 2488.46,-925.88 2488.46,-925.88 2488.46,-919.88 2494.46,-913.88 2500.46,-913.88"/>
<text xml:space="preserve" text-anchor="middle" x="2682.46" y="-1005.58" font-family="DejaVu Sans" font-size="14.00" fill="grey">k&#45;space</text>
</g>
<!-- Target GPUs -->
<g id="node1" class="node">
<title>Target GPUs</title>
<path fill="azure" stroke="black" stroke-width="2" d="M1366.83,-1436.25C1366.83,-1436.25 1208.08,-1436.25 1208.08,-1436.25 1202.08,-1436.25 1196.08,-1430.25 1196.08,-1424.25 1196.08,-1424.25 1196.08,-1380.5 1196.08,-1380.5 1196.08,-1374.5 1202.08,-1368.5 1208.08,-1368.5 1208.08,-1368.5 1366.83,-1368.5 1366.83,-1368.5 1372.83,-1368.5 1378.83,-1374.5 1378.83,-1380.5 1378.83,-1380.5 1378.83,-1424.25 1378.83,-1424.25 1378.83,-1430.25 1372.83,-1436.25 1366.83,-1436.25"/>
<text xml:space="preserve" text-anchor="start" x="1206.08" y="-1416.95" font-family="DejaVu Sans" font-size="14.00">Define GPU [3] for big</text>
<text xml:space="preserve" text-anchor="start" x="1206.08" y="-1397.7" font-family="DejaVu Sans" font-size="14.00">tasks (limit=28GB) and</text>
<text xml:space="preserve" text-anchor="start" x="1206.08" y="-1378.45" font-family="DejaVu Sans" font-size="14.00">GPU 2 for small tasks</text>
</g>
<!-- Config file paths -->
<g id="node2" class="node">
<title>Config file paths</title>
<path fill="azure" stroke="black" stroke-width="2" d="M1412.58,-1307C1412.58,-1307 1162.33,-1307 1162.33,-1307 1156.33,-1307 1150.33,-1301 1150.33,-1295 1150.33,-1295 1150.33,-1270.5 1150.33,-1270.5 1150.33,-1264.5 1156.33,-1258.5 1162.33,-1258.5 1162.33,-1258.5 1412.58,-1258.5 1412.58,-1258.5 1418.58,-1258.5 1424.58,-1264.5 1424.58,-1270.5 1424.58,-1270.5 1424.58,-1295 1424.58,-1295 1424.58,-1301 1418.58,-1307 1412.58,-1307"/>
<text xml:space="preserve" text-anchor="start" x="1160.33" y="-1287.7" font-family="DejaVu Sans" font-size="14.00">Using config file for providing paths:</text>
<text xml:space="preserve" text-anchor="start" x="1160.33" y="-1268.45" font-family="DejaVu Sans" font-size="14.00">paths_14032025.json</text>
</g>
<!-- Target GPUs&#45;&gt;Config file paths -->
<g id="edge1" class="edge">
<title>Target GPUs&#45;&gt;Config file paths</title>
<path fill="none" stroke="black" d="M1287.46,-1367.67C1287.46,-1352.41 1287.46,-1334.38 1287.46,-1318.95"/>
<polygon fill="black" stroke="black" points="1290.96,-1319.26 1287.46,-1309.26 1283.96,-1319.26 1290.96,-1319.26"/>
<text xml:space="preserve" text-anchor="middle" x="1316.33" y="-1341" font-family="DejaVu Sans" font-size="10.00">Δt=669 ms</text>
<text xml:space="preserve" text-anchor="middle" x="1316.33" y="-1328.25" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(3.01 s)</text>
</g>
<!-- Load Metabolic Mask -->
<g id="node3" class="node">
<title>Load Metabolic Mask</title>
<path fill="azure" stroke="black" stroke-width="2" d="M1259.46,-1173.75C1259.46,-1173.75 1119.46,-1173.75 1119.46,-1173.75 1113.46,-1173.75 1107.46,-1167.75 1107.46,-1161.75 1107.46,-1161.75 1107.46,-1149.75 1107.46,-1149.75 1107.46,-1143.75 1113.46,-1137.75 1119.46,-1137.75 1119.46,-1137.75 1259.46,-1137.75 1259.46,-1137.75 1265.46,-1137.75 1271.46,-1143.75 1271.46,-1149.75 1271.46,-1149.75 1271.46,-1161.75 1271.46,-1161.75 1271.46,-1167.75 1265.46,-1173.75 1259.46,-1173.75"/>
<text xml:space="preserve" text-anchor="start" x="1117.46" y="-1151.08" font-family="DejaVu Sans" font-size="14.00">Load Metabolic Mask</text>
</g>
<!-- Config file paths&#45;&gt;Load Metabolic Mask -->
<g id="edge2" class="edge">
<title>Config file paths&#45;&gt;Load Metabolic Mask</title>
<path fill="none" stroke="black" d="M1267.02,-1257.94C1262.27,-1252.27 1257.26,-1246.21 1252.71,-1240.5 1237.79,-1221.81 1221.54,-1200.27 1209.25,-1183.72"/>
<polygon fill="black" stroke="black" points="1212.17,-1181.78 1203.41,-1175.82 1206.55,-1185.94 1212.17,-1181.78"/>
<text xml:space="preserve" text-anchor="middle" x="1281.58" y="-1231" font-family="DejaVu Sans" font-size="10.00">Δt=13.5 ms</text>
<text xml:space="preserve" text-anchor="middle" x="1281.58" y="-1218.25" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(3.02 s)</text>
</g>
<!-- Load example FIDs -->
<g id="node4" class="node">
<title>Load example FIDs</title>
<path fill="azure" stroke="black" stroke-width="2" d="M1425.46,-1173.75C1425.46,-1173.75 1301.46,-1173.75 1301.46,-1173.75 1295.46,-1173.75 1289.46,-1167.75 1289.46,-1161.75 1289.46,-1161.75 1289.46,-1149.75 1289.46,-1149.75 1289.46,-1143.75 1295.46,-1137.75 1301.46,-1137.75 1301.46,-1137.75 1425.46,-1137.75 1425.46,-1137.75 1431.46,-1137.75 1437.46,-1143.75 1437.46,-1149.75 1437.46,-1149.75 1437.46,-1161.75 1437.46,-1161.75 1437.46,-1167.75 1431.46,-1173.75 1425.46,-1173.75"/>
<text xml:space="preserve" text-anchor="middle" x="1363.46" y="-1151.08" font-family="DejaVu Sans" font-size="14.00">Load example FIDs</text>
</g>
<!-- Config file paths&#45;&gt;Load example FIDs -->
<g id="edge3" class="edge">
<title>Config file paths&#45;&gt;Load example FIDs</title>
<path fill="none" stroke="black" d="M1302.11,-1257.65C1314.84,-1236.7 1333.29,-1206.36 1346.63,-1184.43"/>
<polygon fill="black" stroke="black" points="1349.55,-1186.37 1351.75,-1176 1343.56,-1182.73 1349.55,-1186.37"/>
<text xml:space="preserve" text-anchor="middle" x="1356.61" y="-1231" font-family="DejaVu Sans" font-size="10.00">Δt=152 ms</text>
<text xml:space="preserve" text-anchor="middle" x="1356.61" y="-1218.25" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(3.17 s)</text>
</g>
<!-- Load and prepare concentration maps -->
<g id="node5" class="node">
<title>Load and prepare concentration maps</title>
<path fill="azure" stroke="black" stroke-width="2" d="M1464.96,-1038.5C1464.96,-1038.5 1087.96,-1038.5 1087.96,-1038.5 1081.96,-1038.5 1075.96,-1032.5 1075.96,-1026.5 1075.96,-1026.5 1075.96,-885 1075.96,-885 1075.96,-879 1081.96,-873 1087.96,-873 1087.96,-873 1464.96,-873 1464.96,-873 1470.96,-873 1476.96,-879 1476.96,-885 1476.96,-885 1476.96,-1026.5 1476.96,-1026.5 1476.96,-1032.5 1470.96,-1038.5 1464.96,-1038.5"/>
<polygon fill="#a1ddb2" stroke="none" points="1085.96,-1015.25 1085.96,-1032.5 1466.96,-1032.5 1466.96,-1015.25 1085.96,-1015.25"/>
<text xml:space="preserve" text-anchor="start" x="1124.21" y="-1020.2" font-family="DejaVu Sans" font-weight="bold" font-size="14.00">Step: Load and prepare concentration maps</text>
<text xml:space="preserve" text-anchor="start" x="1085.96" y="-999.95" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="1085.96" y="-981.7" font-family="DejaVu Sans" font-style="italic" font-size="14.00">Description: Loading the concentration maps,</text>
<text xml:space="preserve" text-anchor="start" x="1085.96" y="-962.45" font-family="DejaVu Sans" font-style="italic" font-size="14.00">assigning working names and interpolating it with</text>
<text xml:space="preserve" text-anchor="start" x="1085.96" y="-943.2" font-family="DejaVu Sans" font-style="italic" font-size="14.00">2nd order. Currently using: ⓐ Glu, ⓑ Gln, ⓒ m&#45;Ins, ⓓ</text>
<text xml:space="preserve" text-anchor="start" x="1085.96" y="-923.2" font-family="DejaVu Sans" font-style="italic" font-size="14.00">NAA, ⓔ Cr+PCr, ⓕ GPC+PCh</text>
<text xml:space="preserve" text-anchor="start" x="1085.96" y="-902.2" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="1085.96" y="-882.95" font-family="DejaVu Sans" font-size="14.00">☑ Simulated data is used</text>
</g>
<!-- Load Metabolic Mask&#45;&gt;Load and prepare concentration maps -->
<g id="edge4" class="edge">
<title>Load Metabolic Mask&#45;&gt;Load and prepare concentration maps</title>
<path fill="none" stroke="black" d="M1197.33,-1136.83C1206.16,-1116.73 1221.17,-1082.58 1235.75,-1049.39"/>
<polygon fill="black" stroke="black" points="1238.83,-1051.08 1239.65,-1040.52 1232.42,-1048.27 1238.83,-1051.08"/>
<text xml:space="preserve" text-anchor="middle" x="1244.04" y="-1110.25" font-family="DejaVu Sans" font-size="10.00">Δt=395 ms</text>
<text xml:space="preserve" text-anchor="middle" x="1244.04" y="-1097.5" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(3.57 s)</text>
</g>
<!-- Load example FIDs&#45;&gt;Load and prepare concentration maps -->
<g id="edge5" class="edge">
<title>Load example FIDs&#45;&gt;Load and prepare concentration maps</title>
<path fill="none" stroke="black" d="M1355.58,-1136.83C1346.75,-1116.73 1331.74,-1082.58 1317.16,-1049.39"/>
<polygon fill="black" stroke="black" points="1320.49,-1048.27 1313.26,-1040.52 1314.08,-1051.08 1320.49,-1048.27"/>
<text xml:space="preserve" text-anchor="middle" x="1375.69" y="-1110.25" font-family="DejaVu Sans" font-size="10.00">Δt=395 ms</text>
<text xml:space="preserve" text-anchor="middle" x="1375.69" y="-1097.5" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(3.57 s)</text>
</g>
<!-- Interpolate concentration maps -->
<g id="node10" class="node">
<title>Interpolate concentration maps</title>
<path fill="azure" stroke="black" stroke-width="2" d="M1657.21,-731.25C1657.21,-731.25 1485.71,-731.25 1485.71,-731.25 1479.71,-731.25 1473.71,-725.25 1473.71,-719.25 1473.71,-719.25 1473.71,-694.75 1473.71,-694.75 1473.71,-688.75 1479.71,-682.75 1485.71,-682.75 1485.71,-682.75 1657.21,-682.75 1657.21,-682.75 1663.21,-682.75 1669.21,-688.75 1669.21,-694.75 1669.21,-694.75 1669.21,-719.25 1669.21,-719.25 1669.21,-725.25 1663.21,-731.25 1657.21,-731.25"/>
<text xml:space="preserve" text-anchor="start" x="1483.71" y="-711.95" font-family="DejaVu Sans" font-size="14.00">Interpolate concentration</text>
<text xml:space="preserve" text-anchor="start" x="1483.71" y="-692.7" font-family="DejaVu Sans" font-size="14.00">maps to (112, 128, 80)</text>
</g>
<!-- Load and prepare concentration maps&#45;&gt;Interpolate concentration maps -->
<g id="edge6" class="edge">
<title>Load and prepare concentration maps&#45;&gt;Interpolate concentration maps</title>
<path fill="none" stroke="black" d="M1375.1,-872.24C1429.6,-826.66 1494.13,-772.67 1533.94,-739.38"/>
<polygon fill="black" stroke="black" points="1535.94,-742.27 1541.37,-733.17 1531.45,-736.9 1535.94,-742.27"/>
<text xml:space="preserve" text-anchor="middle" x="1496.49" y="-807.75" font-family="DejaVu Sans" font-size="10.00">Δt=5.78 s</text>
<text xml:space="preserve" text-anchor="middle" x="1496.49" y="-795" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(9.35 s)</text>
</g>
<!-- Load and prepare T1 maps -->
<g id="node6" class="node">
<title>Load and prepare T1 maps</title>
<path fill="azure" stroke="black" stroke-width="2" d="M1873.71,-1037.75C1873.71,-1037.75 1507.21,-1037.75 1507.21,-1037.75 1501.21,-1037.75 1495.21,-1031.75 1495.21,-1025.75 1495.21,-1025.75 1495.21,-885.75 1495.21,-885.75 1495.21,-879.75 1501.21,-873.75 1507.21,-873.75 1507.21,-873.75 1873.71,-873.75 1873.71,-873.75 1879.71,-873.75 1885.71,-879.75 1885.71,-885.75 1885.71,-885.75 1885.71,-1025.75 1885.71,-1025.75 1885.71,-1031.75 1879.71,-1037.75 1873.71,-1037.75"/>
<polygon fill="#f8ec99" stroke="none" points="1505.21,-1014.5 1505.21,-1031.75 1875.71,-1031.75 1875.71,-1014.5 1505.21,-1014.5"/>
<text xml:space="preserve" text-anchor="start" x="1563.71" y="-1019.45" font-family="DejaVu Sans" font-weight="bold" font-size="14.00">Step: Load and prepare the T1 maps</text>
<text xml:space="preserve" text-anchor="start" x="1505.21" y="-999.2" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="1505.21" y="-980.95" font-family="DejaVu Sans" font-style="italic" font-size="14.00">Description: Only one T1 map is loaded at the</text>
<text xml:space="preserve" text-anchor="start" x="1505.21" y="-961.7" font-family="DejaVu Sans" font-style="italic" font-size="14.00">moment and used for each metabolite.</text>
<text xml:space="preserve" text-anchor="start" x="1505.21" y="-941.45" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="1505.21" y="-922.2" font-family="DejaVu Sans" font-size="14.00">☐ Use for each metabolite a corresponding T1 map.</text>
<text xml:space="preserve" text-anchor="start" x="1505.21" y="-902.95" font-family="DejaVu Sans" font-size="14.00">☐ Scale map not manually below to [ms]</text>
<text xml:space="preserve" text-anchor="start" x="1505.21" y="-883.7" font-family="DejaVu Sans" font-size="14.00">⚠ The same one T1 map is for each metabolite used!</text>
</g>
<!-- Interpolate T1 -->
<g id="node11" class="node">
<title>Interpolate T1</title>
<path fill="azure" stroke="black" stroke-width="2" d="M1853.58,-731.25C1853.58,-731.25 1699.33,-731.25 1699.33,-731.25 1693.33,-731.25 1687.33,-725.25 1687.33,-719.25 1687.33,-719.25 1687.33,-694.75 1687.33,-694.75 1687.33,-688.75 1693.33,-682.75 1699.33,-682.75 1699.33,-682.75 1853.58,-682.75 1853.58,-682.75 1859.58,-682.75 1865.58,-688.75 1865.58,-694.75 1865.58,-694.75 1865.58,-719.25 1865.58,-719.25 1865.58,-725.25 1859.58,-731.25 1853.58,-731.25"/>
<text xml:space="preserve" text-anchor="start" x="1697.33" y="-711.95" font-family="DejaVu Sans" font-size="14.00">Interpolate T1 maps to</text>
<text xml:space="preserve" text-anchor="start" x="1697.33" y="-692.7" font-family="DejaVu Sans" font-size="14.00">(112, 128, 80)</text>
</g>
<!-- Load and prepare T1 maps&#45;&gt;Interpolate T1 -->
<g id="edge8" class="edge">
<title>Load and prepare T1 maps&#45;&gt;Interpolate T1</title>
<path fill="none" stroke="black" d="M1718.97,-872.93C1734.39,-828.69 1752.62,-776.38 1764.35,-742.72"/>
<polygon fill="black" stroke="black" points="1767.58,-744.09 1767.57,-733.49 1760.97,-741.78 1767.58,-744.09"/>
<text xml:space="preserve" text-anchor="middle" x="1775.06" y="-807.75" font-family="DejaVu Sans" font-size="10.00">Δt=468 ms</text>
<text xml:space="preserve" text-anchor="middle" x="1775.06" y="-795" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(11.4 s)</text>
</g>
<!-- Load and prepare T2 maps -->
<g id="node7" class="node">
<title>Load and prepare T2 maps</title>
<path fill="azure" stroke="black" stroke-width="2" d="M2259.46,-1076.25C2259.46,-1076.25 1915.46,-1076.25 1915.46,-1076.25 1909.46,-1076.25 1903.46,-1070.25 1903.46,-1064.25 1903.46,-1064.25 1903.46,-847.25 1903.46,-847.25 1903.46,-841.25 1909.46,-835.25 1915.46,-835.25 1915.46,-835.25 2259.46,-835.25 2259.46,-835.25 2265.46,-835.25 2271.46,-841.25 2271.46,-847.25 2271.46,-847.25 2271.46,-1064.25 2271.46,-1064.25 2271.46,-1070.25 2265.46,-1076.25 2259.46,-1076.25"/>
<polygon fill="#ff8080" stroke="none" points="1913.46,-1053 1913.46,-1070.25 2261.46,-1070.25 2261.46,-1053 1913.46,-1053"/>
<text xml:space="preserve" text-anchor="start" x="1974.21" y="-1057.95" font-family="DejaVu Sans" font-weight="bold" font-size="14.00">Step: Load and prepare T2 maps</text>
<text xml:space="preserve" text-anchor="start" x="1913.46" y="-1037.7" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="1913.46" y="-1019.45" font-family="DejaVu Sans" font-style="italic" font-size="14.00">Description: At the moment only placeholder data</text>
<text xml:space="preserve" text-anchor="start" x="1913.46" y="-1000.2" font-family="DejaVu Sans" font-style="italic" font-size="14.00">is used. Therefore, mean values of certain regions</text>
<text xml:space="preserve" text-anchor="start" x="1913.46" y="-980.95" font-family="DejaVu Sans" font-style="italic" font-size="14.00">in brain from paper cited in the code.</text>
<text xml:space="preserve" text-anchor="start" x="1913.46" y="-960.7" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="1913.46" y="-941.45" font-family="DejaVu Sans" font-size="14.00">☑ Using literature values at the first step:</text>
<text xml:space="preserve" text-anchor="start" x="1913.46" y="-922.2" font-family="DejaVu Sans" font-size="14.00">​    random values from distribution exhibiting mu</text>
<text xml:space="preserve" text-anchor="start" x="1913.46" y="-902.95" font-family="DejaVu Sans" font-size="14.00">​    and sigma.</text>
<text xml:space="preserve" text-anchor="start" x="1913.46" y="-883.7" font-family="DejaVu Sans" font-size="14.00">☐ Check if T2 and T2* correctly applied in code!</text>
<text xml:space="preserve" text-anchor="start" x="1913.46" y="-864.45" font-family="DejaVu Sans" font-size="14.00">☑ Using T2 and T2* values from literature</text>
<text xml:space="preserve" text-anchor="start" x="1913.46" y="-845.2" font-family="DejaVu Sans" font-size="14.00">☐ Using a T2 and T2* map for each metabolite</text>
</g>
<!-- Interpolate T2 -->
<g id="node12" class="node">
<title>Interpolate T2</title>
<path fill="azure" stroke="black" stroke-width="2" d="M2049.58,-731.25C2049.58,-731.25 1895.33,-731.25 1895.33,-731.25 1889.33,-731.25 1883.33,-725.25 1883.33,-719.25 1883.33,-719.25 1883.33,-694.75 1883.33,-694.75 1883.33,-688.75 1889.33,-682.75 1895.33,-682.75 1895.33,-682.75 2049.58,-682.75 2049.58,-682.75 2055.58,-682.75 2061.58,-688.75 2061.58,-694.75 2061.58,-694.75 2061.58,-719.25 2061.58,-719.25 2061.58,-725.25 2055.58,-731.25 2049.58,-731.25"/>
<text xml:space="preserve" text-anchor="start" x="1893.33" y="-711.95" font-family="DejaVu Sans" font-size="14.00">Interpolate T2 maps to</text>
<text xml:space="preserve" text-anchor="start" x="1893.33" y="-692.7" font-family="DejaVu Sans" font-size="14.00">(112, 128, 80)</text>
</g>
<!-- Load and prepare T2 maps&#45;&gt;Interpolate T2 -->
<g id="edge10" class="edge">
<title>Load and prepare T2 maps&#45;&gt;Interpolate T2</title>
<path fill="none" stroke="black" d="M2031.3,-834.27C2015.58,-800.53 1999.72,-766.51 1988.44,-742.29"/>
<polygon fill="black" stroke="black" points="1991.63,-740.85 1984.23,-733.26 1985.28,-743.8 1991.63,-740.85"/>
<text xml:space="preserve" text-anchor="middle" x="2051.94" y="-807.75" font-family="DejaVu Sans" font-size="10.00">Δt=57.1 ms</text>
<text xml:space="preserve" text-anchor="middle" x="2051.94" y="-795" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(12.7 s)</text>
</g>
<!-- Partially FID -->
<g id="node8" class="node">
<title>Partially FID</title>
<path fill="azure" stroke="black" stroke-width="2" d="M2196.96,-559.5C2196.96,-559.5 1813.96,-559.5 1813.96,-559.5 1807.96,-559.5 1801.96,-553.5 1801.96,-547.5 1801.96,-547.5 1801.96,-330.5 1801.96,-330.5 1801.96,-324.5 1807.96,-318.5 1813.96,-318.5 1813.96,-318.5 2196.96,-318.5 2196.96,-318.5 2202.96,-318.5 2208.96,-324.5 2208.96,-330.5 2208.96,-330.5 2208.96,-547.5 2208.96,-547.5 2208.96,-553.5 2202.96,-559.5 2196.96,-559.5"/>
<polygon fill="#a1ddb2" stroke="none" points="1811.96,-536.25 1811.96,-553.5 2198.96,-553.5 2198.96,-536.25 1811.96,-536.25"/>
<text xml:space="preserve" text-anchor="start" x="1943.96" y="-541.2" font-family="DejaVu Sans" font-weight="bold" font-size="14.00">Step: Partially FID</text>
<text xml:space="preserve" text-anchor="start" x="1811.96" y="-520.95" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="1811.96" y="-502.7" font-family="DejaVu Sans" font-style="italic" font-size="14.00">Description: Take a subset of all desired signals of</text>
<text xml:space="preserve" text-anchor="start" x="1811.96" y="-483.45" font-family="DejaVu Sans" font-style="italic" font-size="14.00">the FID. Some signals need to be combined individually</text>
<text xml:space="preserve" text-anchor="start" x="1811.96" y="-464.2" font-family="DejaVu Sans" font-style="italic" font-size="14.00">by adding them and dividing it then by a certain</text>
<text xml:space="preserve" text-anchor="start" x="1811.96" y="-444.95" font-family="DejaVu Sans" font-style="italic" font-size="14.00">factor.</text>
<text xml:space="preserve" text-anchor="start" x="1811.96" y="-424.7" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="1811.96" y="-405.45" font-family="DejaVu Sans" font-size="14.00">☑ Combine Creatine ( Cr ) and Phosphocreatine ( PCr )</text>
<text xml:space="preserve" text-anchor="start" x="1811.96" y="-386.2" font-family="DejaVu Sans" font-size="14.00">​    &#45;&gt; Cr+PCr (divisor = 2)</text>
<text xml:space="preserve" text-anchor="start" x="1811.96" y="-366.95" font-family="DejaVu Sans" font-size="14.00">☑ Combine Choline_moi( GPC ) and Glycerol_moi( GPC )</text>
<text xml:space="preserve" text-anchor="start" x="1811.96" y="-347.7" font-family="DejaVu Sans" font-size="14.00">​    and PhosphorylCholine_new1 ( PC ) &#45;&gt; GPC+PCh</text>
<text xml:space="preserve" text-anchor="start" x="1811.96" y="-328.45" font-family="DejaVu Sans" font-size="14.00">​    (divisor = 2)</text>
</g>
<!-- Create Metabolic Property Maps -->
<g id="node15" class="node">
<title>Create Metabolic Property Maps</title>
<path fill="azure" stroke="black" stroke-width="2" d="M2679.33,-569.12C2679.33,-569.12 2307.58,-569.12 2307.58,-569.12 2301.58,-569.12 2295.58,-563.12 2295.58,-557.12 2295.58,-557.12 2295.58,-320.88 2295.58,-320.88 2295.58,-314.88 2301.58,-308.88 2307.58,-308.88 2307.58,-308.88 2679.33,-308.88 2679.33,-308.88 2685.33,-308.88 2691.33,-314.88 2691.33,-320.88 2691.33,-320.88 2691.33,-557.12 2691.33,-557.12 2691.33,-563.12 2685.33,-569.12 2679.33,-569.12"/>
<polygon fill="#f8ec99" stroke="none" points="2305.58,-545.88 2305.58,-563.12 2681.33,-563.12 2681.33,-545.88 2305.58,-545.88"/>
<text xml:space="preserve" text-anchor="start" x="2363.33" y="-550.83" font-family="DejaVu Sans" font-weight="bold" font-size="14.00">Step: Create Metabolic Property Maps</text>
<text xml:space="preserve" text-anchor="start" x="2305.58" y="-530.58" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="2305.58" y="-512.33" font-family="DejaVu Sans" font-style="italic" font-size="14.00">Description: Create dictionary of Metabolic</text>
<text xml:space="preserve" text-anchor="start" x="2305.58" y="-493.07" font-family="DejaVu Sans" font-style="italic" font-size="14.00">Property Maps, where each contains the T1 map, T2</text>
<text xml:space="preserve" text-anchor="start" x="2305.58" y="-473.82" font-family="DejaVu Sans" font-style="italic" font-size="14.00">map, concentration map of the respective</text>
<text xml:space="preserve" text-anchor="start" x="2305.58" y="-454.57" font-family="DejaVu Sans" font-style="italic" font-size="14.00">metabolite. Using dask block size: (20, 112, 128,</text>
<text xml:space="preserve" text-anchor="start" x="2305.58" y="-435.32" font-family="DejaVu Sans" font-style="italic" font-size="14.00">80)</text>
<text xml:space="preserve" text-anchor="start" x="2305.58" y="-415.07" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="2305.58" y="-395.82" font-family="DejaVu Sans" font-size="14.00">☐ Print number of blocks and memory used per block</text>
<text xml:space="preserve" text-anchor="start" x="2305.58" y="-376.57" font-family="DejaVu Sans" font-size="14.00">☐ Ok to work with units programmatically? E.g.</text>
<text xml:space="preserve" text-anchor="start" x="2305.58" y="-357.32" font-family="DejaVu Sans" font-size="14.00">​    here for concentration mmol, T1 and T2 ms.</text>
<text xml:space="preserve" text-anchor="start" x="2305.58" y="-338.07" font-family="DejaVu Sans" font-size="14.00">⚠ Try blocksize (5, 56, 64, 40) for 100.000 FID</text>
<text xml:space="preserve" text-anchor="start" x="2305.58" y="-318.82" font-family="DejaVu Sans" font-size="14.00">​    points.</text>
</g>
<!-- Partially FID&#45;&gt;Create Metabolic Property Maps -->
<g id="edge12" class="edge">
<title>Partially FID&#45;&gt;Create Metabolic Property Maps</title>
<path fill="none" stroke="black" d="M2209.94,-439C2234.16,-439 2258.91,-439 2283.22,-439"/>
<polygon fill="black" stroke="black" points="2283.21,-442.5 2293.21,-439 2283.21,-435.5 2283.21,-442.5"/>
<text xml:space="preserve" text-anchor="middle" x="2252.27" y="-458" font-family="DejaVu Sans" font-size="10.00">Δt=11.9 ms</text>
<text xml:space="preserve" text-anchor="middle" x="2252.27" y="-445.25" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(13.1 s)</text>
</g>
<!-- Load and prepare coil sensitivity maps -->
<g id="node9" class="node">
<title>Load and prepare coil sensitivity maps</title>
<path fill="azure" stroke="black" stroke-width="2" d="M1045.58,-999.25C1045.58,-999.25 687.33,-999.25 687.33,-999.25 681.33,-999.25 675.33,-993.25 675.33,-987.25 675.33,-987.25 675.33,-924.25 675.33,-924.25 675.33,-918.25 681.33,-912.25 687.33,-912.25 687.33,-912.25 1045.58,-912.25 1045.58,-912.25 1051.58,-912.25 1057.58,-918.25 1057.58,-924.25 1057.58,-924.25 1057.58,-987.25 1057.58,-987.25 1057.58,-993.25 1051.58,-999.25 1045.58,-999.25"/>
<text xml:space="preserve" text-anchor="start" x="685.33" y="-979.95" font-family="DejaVu Sans" font-size="14.00">Load and prepare coil sensitivity maps. ⚠ Only</text>
<text xml:space="preserve" text-anchor="start" x="685.33" y="-960.7" font-family="DejaVu Sans" font-size="14.00">HDF5 files are supported at the moment, where img</text>
<text xml:space="preserve" text-anchor="start" x="685.33" y="-941.45" font-family="DejaVu Sans" font-size="14.00">and real is separate. It gets combined to complex</text>
<text xml:space="preserve" text-anchor="start" x="685.33" y="-922.2" font-family="DejaVu Sans" font-size="14.00">number..</text>
</g>
<!-- Interpolate coil sensitivity -->
<g id="node13" class="node">
<title>Interpolate coil sensitivity</title>
<path fill="azure" stroke="black" stroke-width="2" d="M1443.21,-740.88C1443.21,-740.88 1283.71,-740.88 1283.71,-740.88 1277.71,-740.88 1271.71,-734.88 1271.71,-728.88 1271.71,-728.88 1271.71,-685.12 1271.71,-685.12 1271.71,-679.12 1277.71,-673.12 1283.71,-673.12 1283.71,-673.12 1443.21,-673.12 1443.21,-673.12 1449.21,-673.12 1455.21,-679.12 1455.21,-685.12 1455.21,-685.12 1455.21,-728.88 1455.21,-728.88 1455.21,-734.88 1449.21,-740.88 1443.21,-740.88"/>
<text xml:space="preserve" text-anchor="start" x="1281.71" y="-721.58" font-family="DejaVu Sans" font-size="14.00">Interpolate coil</text>
<text xml:space="preserve" text-anchor="start" x="1281.71" y="-702.33" font-family="DejaVu Sans" font-size="14.00">sensitivity maps to (32,</text>
<text xml:space="preserve" text-anchor="start" x="1281.71" y="-683.08" font-family="DejaVu Sans" font-size="14.00">112, 128, 80)</text>
</g>
<!-- Load and prepare coil sensitivity maps&#45;&gt;Interpolate coil sensitivity -->
<g id="edge17" class="edge">
<title>Load and prepare coil sensitivity maps&#45;&gt;Interpolate coil sensitivity</title>
<path fill="none" stroke="black" d="M934.51,-911.28C972.86,-887.55 1022.06,-858.38 1067.46,-835.25 1132.34,-802.19 1207.78,-769.85 1266.26,-746.04"/>
<polygon fill="black" stroke="black" points="1267.25,-749.42 1275.2,-742.42 1264.62,-742.93 1267.25,-749.42"/>
<text xml:space="preserve" text-anchor="middle" x="1187.99" y="-807.75" font-family="DejaVu Sans" font-size="10.00">Δt=697 ms</text>
<text xml:space="preserve" text-anchor="middle" x="1187.99" y="-795" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(3.6 min)</text>
</g>
<!-- Interpolate concentration maps&#45;&gt;Load and prepare T1 maps -->
<g id="edge7" class="edge">
<title>Interpolate concentration maps&#45;&gt;Load and prepare T1 maps</title>
<path fill="none" stroke="black" d="M1583.06,-732.06C1597.61,-762.23 1623.4,-815.71 1646.06,-862.7"/>
<polygon fill="black" stroke="black" points="1642.84,-864.08 1650.34,-871.57 1649.15,-861.04 1642.84,-864.08"/>
<text xml:space="preserve" text-anchor="middle" x="1648.21" y="-807.75" font-family="DejaVu Sans" font-size="10.00">Δt=1.61 s</text>
<text xml:space="preserve" text-anchor="middle" x="1648.21" y="-795" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(11 s)</text>
</g>
<!-- Interpolate T1&#45;&gt;Load and prepare T2 maps -->
<g id="edge9" class="edge">
<title>Interpolate T1&#45;&gt;Load and prepare T2 maps</title>
<path fill="none" stroke="black" d="M1806.85,-732.12C1835.52,-754.86 1880.81,-790.8 1926.72,-827.22"/>
<polygon fill="black" stroke="black" points="1924.4,-829.85 1934.41,-833.33 1928.76,-824.37 1924.4,-829.85"/>
<text xml:space="preserve" text-anchor="middle" x="1942.21" y="-807.75" font-family="DejaVu Sans" font-size="10.00">Δt=1.23 s</text>
<text xml:space="preserve" text-anchor="middle" x="1942.21" y="-795" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(12.7 s)</text>
</g>
<!-- Interpolate T2&#45;&gt;Partially FID -->
<g id="edge11" class="edge">
<title>Interpolate T2&#45;&gt;Partially FID</title>
<path fill="none" stroke="black" d="M1975.44,-681.93C1978.61,-656.39 1983.87,-613.98 1989.11,-571.74"/>
<polygon fill="black" stroke="black" points="1992.57,-572.29 1990.33,-561.94 1985.62,-571.43 1992.57,-572.29"/>
<text xml:space="preserve" text-anchor="middle" x="2011.08" y="-636" font-family="DejaVu Sans" font-size="10.00">Δt=393 ms</text>
<text xml:space="preserve" text-anchor="middle" x="2011.08" y="-623.25" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(13.1 s)</text>
</g>
<!-- Create Sampling Model -->
<g id="node17" class="node">
<title>Create Sampling Model</title>
<path fill="azure" stroke="black" stroke-width="2" d="M3057.71,-530.62C3057.71,-530.62 2721.21,-530.62 2721.21,-530.62 2715.21,-530.62 2709.21,-524.62 2709.21,-518.62 2709.21,-518.62 2709.21,-359.38 2709.21,-359.38 2709.21,-353.38 2715.21,-347.38 2721.21,-347.38 2721.21,-347.38 3057.71,-347.38 3057.71,-347.38 3063.71,-347.38 3069.71,-353.38 3069.71,-359.38 3069.71,-359.38 3069.71,-518.62 3069.71,-518.62 3069.71,-524.62 3063.71,-530.62 3057.71,-530.62"/>
<polygon fill="#f8ec99" stroke="none" points="2719.21,-507.38 2719.21,-524.62 3059.71,-524.62 3059.71,-507.38 2719.21,-507.38"/>
<text xml:space="preserve" text-anchor="start" x="2788.96" y="-512.33" font-family="DejaVu Sans" font-weight="bold" font-size="14.00">Step: Create Sampling Model</text>
<text xml:space="preserve" text-anchor="start" x="2719.21" y="-492.07" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="2719.21" y="-473.82" font-family="DejaVu Sans" font-style="italic" font-size="14.00">Description: `To create plain sampling model and</text>
<text xml:space="preserve" text-anchor="start" x="2719.21" y="-454.57" font-family="DejaVu Sans" font-style="italic" font-size="14.00">then apply the coil sensitivity maps.</text>
<text xml:space="preserve" text-anchor="start" x="2719.21" y="-434.32" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="2719.21" y="-415.07" font-family="DejaVu Sans" font-size="14.00">This includes 32 coild sensitivity maps and thus</text>
<text xml:space="preserve" text-anchor="start" x="2719.21" y="-395.82" font-family="DejaVu Sans" font-size="14.00">extends the shape from [t,x1,x2,x3]</text>
<text xml:space="preserve" text-anchor="start" x="2719.21" y="-376.57" font-family="DejaVu Sans" font-size="14.00">to [coils, t, x1,x2,x3].`</text>
<text xml:space="preserve" text-anchor="start" x="2719.21" y="-357.32" font-family="DejaVu Sans" font-size="14.00">☐ fix that path cache has no effect!</text>
</g>
<!-- Interpolate coil sensitivity&#45;&gt;Create Sampling Model -->
<g id="edge18" class="edge">
<title>Interpolate coil sensitivity&#45;&gt;Create Sampling Model</title>
<path fill="none" stroke="black" d="M1419.95,-672.21C1434.03,-665.37 1449.41,-659.16 1464.46,-655.5 1504.89,-645.67 2171.88,-647.21 2213.46,-645.5 2321.84,-641.05 2600.69,-654.59 2700.46,-612 2739.22,-595.45 2775.25,-567.49 2805.22,-538.88"/>
<polygon fill="black" stroke="black" points="2807.3,-541.73 2812.03,-532.25 2802.42,-536.72 2807.3,-541.73"/>
<text xml:space="preserve" text-anchor="middle" x="2708.88" y="-636" font-family="DejaVu Sans" font-size="10.00">Δt=3.88 s</text>
<text xml:space="preserve" text-anchor="middle" x="2708.88" y="-623.25" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(3.66 min)</text>
</g>
<!-- Interpolate coil sensitivity (ifft) -->
<g id="node14" class="node">
<title>Interpolate coil sensitivity (ifft)</title>
<path fill="azure" stroke="black" stroke-width="2" d="M2251.21,-750.5C2251.21,-750.5 2091.71,-750.5 2091.71,-750.5 2085.71,-750.5 2079.71,-744.5 2079.71,-738.5 2079.71,-738.5 2079.71,-675.5 2079.71,-675.5 2079.71,-669.5 2085.71,-663.5 2091.71,-663.5 2091.71,-663.5 2251.21,-663.5 2251.21,-663.5 2257.21,-663.5 2263.21,-669.5 2263.21,-675.5 2263.21,-675.5 2263.21,-738.5 2263.21,-738.5 2263.21,-744.5 2257.21,-750.5 2251.21,-750.5"/>
<text xml:space="preserve" text-anchor="start" x="2089.71" y="-731.2" font-family="DejaVu Sans" font-size="14.00">Interpolate coil</text>
<text xml:space="preserve" text-anchor="start" x="2089.71" y="-711.95" font-family="DejaVu Sans" font-size="14.00">sensitivity maps to (32,</text>
<text xml:space="preserve" text-anchor="start" x="2089.71" y="-692.7" font-family="DejaVu Sans" font-size="14.00">64, 64, 40). For Coil</text>
<text xml:space="preserve" text-anchor="start" x="2089.71" y="-673.45" font-family="DejaVu Sans" font-size="14.00">combination after IFFT.</text>
</g>
<!-- Compute the forward process -->
<g id="node20" class="node">
<title>Compute the forward process</title>
<path fill="azure" stroke="black" stroke-width="2" d="M638.96,-578.75C638.96,-578.75 273.96,-578.75 273.96,-578.75 267.96,-578.75 261.96,-572.75 261.96,-566.75 261.96,-566.75 261.96,-311.25 261.96,-311.25 261.96,-305.25 267.96,-299.25 273.96,-299.25 273.96,-299.25 638.96,-299.25 638.96,-299.25 644.96,-299.25 650.96,-305.25 650.96,-311.25 650.96,-311.25 650.96,-566.75 650.96,-566.75 650.96,-572.75 644.96,-578.75 638.96,-578.75"/>
<polygon fill="#a1ddb2" stroke="none" points="271.96,-555.5 271.96,-572.75 640.96,-572.75 640.96,-555.5 271.96,-555.5"/>
<text xml:space="preserve" text-anchor="start" x="333.46" y="-560.45" font-family="DejaVu Sans" font-weight="bold" font-size="14.00">Step: Compute the forward process</text>
<text xml:space="preserve" text-anchor="start" x="271.96" y="-540.2" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="271.96" y="-521.95" font-family="DejaVu Sans" font-style="italic" font-size="14.00">Description: `This computes the sampling model and</text>
<text xml:space="preserve" text-anchor="start" x="271.96" y="-502.7" font-family="DejaVu Sans" font-style="italic" font-size="14.00">also includes a forward process to check the</text>
<text xml:space="preserve" text-anchor="start" x="271.96" y="-483.45" font-family="DejaVu Sans" font-style="italic" font-size="14.00">data.`</text>
<text xml:space="preserve" text-anchor="start" x="271.96" y="-463.2" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="271.96" y="-443.95" font-family="DejaVu Sans" font-size="14.00">☑ 1. Bring to k&#45;space (thus FFT to dimensions</text>
<text xml:space="preserve" text-anchor="start" x="271.96" y="-424.7" font-family="DejaVu Sans" font-size="14.00">​    1,2,3 excluding 0)</text>
<text xml:space="preserve" text-anchor="start" x="271.96" y="-405.45" font-family="DejaVu Sans" font-size="14.00">☑ 2. Crop the center to (64, 64, 40)</text>
<text xml:space="preserve" text-anchor="start" x="271.96" y="-386.2" font-family="DejaVu Sans" font-size="14.00">☑ 3. IFFT back to image space</text>
<text xml:space="preserve" text-anchor="start" x="271.96" y="-366.95" font-family="DejaVu Sans" font-size="14.00">☑ 4. Interpolate coil sensitivity maps to (64, 64,</text>
<text xml:space="preserve" text-anchor="start" x="271.96" y="-347.7" font-family="DejaVu Sans" font-size="14.00">​    40)</text>
<text xml:space="preserve" text-anchor="start" x="271.96" y="-328.45" font-family="DejaVu Sans" font-size="14.00">☑ 5. Could combination with resized coil</text>
<text xml:space="preserve" text-anchor="start" x="271.96" y="-309.2" font-family="DejaVu Sans" font-size="14.00">​    sensitivity maps</text>
</g>
<!-- Interpolate coil sensitivity (ifft)&#45;&gt;Compute the forward process -->
<g id="edge21" class="edge">
<title>Interpolate coil sensitivity (ifft)&#45;&gt;Compute the forward process</title>
<path fill="none" stroke="black" d="M2092.79,-662.53C2085.4,-659.72 2077.89,-657.3 2070.46,-655.5 2018.65,-642.99 1164.45,-647.77 1111.21,-645.5 911.83,-637.01 848.48,-686.76 663.46,-612 646.16,-605.01 629.23,-596.02 612.97,-585.83"/>
<polygon fill="black" stroke="black" points="615.04,-583 604.74,-580.51 611.24,-588.88 615.04,-583"/>
<text xml:space="preserve" text-anchor="middle" x="1146.83" y="-636" font-family="DejaVu Sans" font-size="10.00">Δt=503 ms</text>
<text xml:space="preserve" text-anchor="middle" x="1146.83" y="-623.25" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(5.46 min)</text>
</g>
<!-- Spectral&#45;spatial combination -->
<g id="node16" class="node">
<title>Spectral&#45;spatial combination</title>
<path fill="azure" stroke="black" stroke-width="2" d="M2635.83,-237.75C2635.83,-237.75 2321.08,-237.75 2321.08,-237.75 2315.08,-237.75 2309.08,-231.75 2309.08,-225.75 2309.08,-225.75 2309.08,-28 2309.08,-28 2309.08,-22 2315.08,-16 2321.08,-16 2321.08,-16 2635.83,-16 2635.83,-16 2641.83,-16 2647.83,-22 2647.83,-28 2647.83,-28 2647.83,-225.75 2647.83,-225.75 2647.83,-231.75 2641.83,-237.75 2635.83,-237.75"/>
<polygon fill="#f8ec99" stroke="none" points="2319.08,-214.5 2319.08,-231.75 2637.83,-231.75 2637.83,-214.5 2319.08,-214.5"/>
<text xml:space="preserve" text-anchor="start" x="2359.21" y="-219.45" font-family="DejaVu Sans" font-weight="bold" font-size="14.00">Step: Spectral&#45;spatial combination</text>
<text xml:space="preserve" text-anchor="start" x="2319.08" y="-199.2" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="2319.08" y="-180.95" font-family="DejaVu Sans" font-style="italic" font-size="14.00">Description: Combines spectral part (FID) and</text>
<text xml:space="preserve" text-anchor="start" x="2319.08" y="-161.7" font-family="DejaVu Sans" font-style="italic" font-size="14.00">spatial parts (Metabolic Property Maps). It</text>
<text xml:space="preserve" text-anchor="start" x="2319.08" y="-142.45" font-family="DejaVu Sans" font-style="italic" font-size="14.00">includes: FID, T1, T2 effects.</text>
<text xml:space="preserve" text-anchor="start" x="2319.08" y="-122.2" font-family="DejaVu Sans" font-size="14.00"> </text>
<text xml:space="preserve" text-anchor="start" x="2319.08" y="-102.95" font-family="DejaVu Sans" font-size="14.00">☑ V_out = V_in * sin(α) * (1&#45;e^(TR/T1)) /</text>
<text xml:space="preserve" text-anchor="start" x="2319.08" y="-83.7" font-family="DejaVu Sans" font-size="14.00">​    (1&#45;cos(α)*e^(&#45;TR/T1))</text>
<text xml:space="preserve" text-anchor="start" x="2319.08" y="-64.45" font-family="DejaVu Sans" font-size="14.00">☑ V_out = V_in * e^(&#45;TE+t)/T2</text>
<text xml:space="preserve" text-anchor="start" x="2319.08" y="-45.2" font-family="DejaVu Sans" font-size="14.00">☐ Adding B0 inhomogeneity</text>
<text xml:space="preserve" text-anchor="start" x="2319.08" y="-25.95" font-family="DejaVu Sans" font-size="14.00">⚠ Using dask block size: (20, 112, 128, 80)</text>
</g>
<!-- Create Metabolic Property Maps&#45;&gt;Spectral&#45;spatial combination -->
<g id="edge13" class="edge">
<title>Create Metabolic Property Maps&#45;&gt;Spectral&#45;spatial combination</title>
<path fill="none" stroke="black" d="M2487.18,-308.28C2486.24,-288.85 2485.28,-268.88 2484.34,-249.63"/>
<polygon fill="black" stroke="black" points="2487.85,-249.72 2483.87,-239.9 2480.86,-250.06 2487.85,-249.72"/>
<text xml:space="preserve" text-anchor="middle" x="2514.38" y="-271.75" font-family="DejaVu Sans" font-size="10.00">Δt=240 ms</text>
<text xml:space="preserve" text-anchor="middle" x="2514.38" y="-259" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(13.4 s)</text>
</g>
<!-- Investigate effects on the spectrum -->
<g id="node18" class="node">
<title>Investigate effects on the spectrum</title>
<path fill="azure" stroke="black" stroke-width="2" d="M231.46,-501.75C231.46,-501.75 67.46,-501.75 67.46,-501.75 61.46,-501.75 55.46,-495.75 55.46,-489.75 55.46,-489.75 55.46,-388.25 55.46,-388.25 55.46,-382.25 61.46,-376.25 67.46,-376.25 67.46,-376.25 231.46,-376.25 231.46,-376.25 237.46,-376.25 243.46,-382.25 243.46,-388.25 243.46,-388.25 243.46,-489.75 243.46,-489.75 243.46,-495.75 237.46,-501.75 231.46,-501.75"/>
<text xml:space="preserve" text-anchor="start" x="65.46" y="-482.45" font-family="DejaVu Sans" font-size="14.00">Show T1, T2,</text>
<text xml:space="preserve" text-anchor="start" x="65.46" y="-463.2" font-family="DejaVu Sans" font-size="14.00">concentration effects on</text>
<text xml:space="preserve" text-anchor="start" x="65.46" y="-443.95" font-family="DejaVu Sans" font-size="14.00">the spectrum, thus</text>
<text xml:space="preserve" text-anchor="start" x="65.46" y="-424.7" font-family="DejaVu Sans" font-size="14.00">compute part of graph.</text>
<text xml:space="preserve" text-anchor="start" x="65.46" y="-405.45" font-family="DejaVu Sans" font-size="14.00">Voxel chosen: (40, 40,</text>
<text xml:space="preserve" text-anchor="start" x="65.46" y="-386.2" font-family="DejaVu Sans" font-size="14.00">40).</text>
</g>
<!-- Spectral&#45;spatial combination&#45;&gt;Investigate effects on the spectrum -->
<g id="edge14" class="edge">
<title>Spectral&#45;spatial combination&#45;&gt;Investigate effects on the spectrum</title>
<path fill="none" stroke="black" d="M2308.27,-137.14C1803.36,-165.13 343.23,-249.94 253.46,-299.25 225.85,-314.41 203.43,-340.36 186.58,-365.74"/>
<polygon fill="black" stroke="black" points="183.65,-363.83 181.21,-374.14 189.54,-367.6 183.65,-363.83"/>
<text xml:space="preserve" text-anchor="middle" x="555.46" y="-271.75" font-family="DejaVu Sans" font-size="10.00">Δt=168 ms</text>
<text xml:space="preserve" text-anchor="middle" x="555.46" y="-259" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(13.5 s)</text>
</g>
<!-- Cartesian Fourier Transformation -->
<g id="node21" class="node">
<title>Cartesian Fourier Transformation</title>
<path fill="azure" stroke="black" stroke-width="2" d="M2856.71,-989.62C2856.71,-989.62 2508.21,-989.62 2508.21,-989.62 2502.21,-989.62 2496.21,-983.62 2496.21,-977.62 2496.21,-977.62 2496.21,-933.88 2496.21,-933.88 2496.21,-927.88 2502.21,-921.88 2508.21,-921.88 2508.21,-921.88 2856.71,-921.88 2856.71,-921.88 2862.71,-921.88 2868.71,-927.88 2868.71,-933.88 2868.71,-933.88 2868.71,-977.62 2868.71,-977.62 2868.71,-983.62 2862.71,-989.62 2856.71,-989.62"/>
<text xml:space="preserve" text-anchor="start" x="2506.21" y="-970.33" font-family="DejaVu Sans" font-size="14.00">To bring the 4D volume of each coil to k&#45;space and</text>
<text xml:space="preserve" text-anchor="start" x="2506.21" y="-951.08" font-family="DejaVu Sans" font-size="14.00">to spatially crop the center for each to (64, 64,</text>
<text xml:space="preserve" text-anchor="start" x="2506.21" y="-931.83" font-family="DejaVu Sans" font-size="14.00">40).</text>
</g>
<!-- Create Sampling Model&#45;&gt;Cartesian Fourier Transformation -->
<g id="edge19" class="edge">
<title>Create Sampling Model&#45;&gt;Cartesian Fourier Transformation</title>
<path fill="none" stroke="black" d="M2852.67,-531.47C2807.86,-642.91 2733.96,-826.67 2700.23,-910.54"/>
<polygon fill="black" stroke="black" points="2697.09,-908.99 2696.6,-919.57 2703.58,-911.6 2697.09,-908.99"/>
<text xml:space="preserve" text-anchor="middle" x="2835.34" y="-710.25" font-family="DejaVu Sans" font-size="10.00">Δt=401 ms</text>
<text xml:space="preserve" text-anchor="middle" x="2835.34" y="-697.5" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(3.67 min)</text>
</g>
<!-- Compute spectral&#45;spatial model -->
<g id="node19" class="node">
<title>Compute spectral&#45;spatial model</title>
<path fill="azure" stroke="black" stroke-width="2" d="M281.08,-144.88C281.08,-144.88 67.83,-144.88 67.83,-144.88 61.83,-144.88 55.83,-138.88 55.83,-132.88 55.83,-132.88 55.83,-120.88 55.83,-120.88 55.83,-114.88 61.83,-108.88 67.83,-108.88 67.83,-108.88 281.08,-108.88 281.08,-108.88 287.08,-108.88 293.08,-114.88 293.08,-120.88 293.08,-120.88 293.08,-132.88 293.08,-132.88 293.08,-138.88 287.08,-144.88 281.08,-144.88"/>
<text xml:space="preserve" text-anchor="middle" x="174.46" y="-122.2" font-family="DejaVu Sans" font-size="14.00">Compute spectral&#45;spatial model</text>
</g>
<!-- Investigate effects on the spectrum&#45;&gt;Compute spectral&#45;spatial model -->
<g id="edge15" class="edge">
<title>Investigate effects on the spectrum&#45;&gt;Compute spectral&#45;spatial model</title>
<path fill="none" stroke="black" d="M154.48,-375.61C159.85,-309.11 168.1,-206.68 172.11,-156.95"/>
<polygon fill="black" stroke="black" points="175.58,-157.53 172.89,-147.28 168.6,-156.97 175.58,-157.53"/>
<text xml:space="preserve" text-anchor="middle" x="199.08" y="-271.75" font-family="DejaVu Sans" font-size="10.00">Δt=1.87 min</text>
<text xml:space="preserve" text-anchor="middle" x="199.08" y="-259" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(2.09 min)</text>
</g>
<!-- Compute spectral&#45;spatial model&#45;&gt;Load and prepare coil sensitivity maps -->
<g id="edge16" class="edge">
<title>Compute spectral&#45;spatial model&#45;&gt;Load and prepare coil sensitivity maps</title>
<path fill="none" stroke="black" d="M154.89,-145.53C124.7,-174.24 68,-234.41 46.46,-299.25 2.63,-431.16 -30.58,-496.3 46.46,-612 182.98,-817.04 468.14,-899.64 663.45,-932.78"/>
<polygon fill="black" stroke="black" points="662.78,-936.21 673.22,-934.4 663.93,-929.31 662.78,-936.21"/>
<text xml:space="preserve" text-anchor="middle" x="103.35" y="-636" font-family="DejaVu Sans" font-size="10.00">Δt=1.49 min</text>
<text xml:space="preserve" text-anchor="middle" x="103.35" y="-623.25" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(3.59 min)</text>
</g>
<!-- Cartesian Fourier Transformation&#45;&gt;Interpolate coil sensitivity (ifft) -->
<g id="edge20" class="edge">
<title>Cartesian Fourier Transformation&#45;&gt;Interpolate coil sensitivity (ifft)</title>
<path fill="none" stroke="black" d="M2612.47,-920.96C2524.21,-878.34 2371.86,-804.77 2271.37,-756.24"/>
<polygon fill="black" stroke="black" points="2273.09,-753.19 2262.56,-751.99 2270.05,-759.49 2273.09,-753.19"/>
<text xml:space="preserve" text-anchor="middle" x="2431.99" y="-807.75" font-family="DejaVu Sans" font-size="10.00">Δt=1.78 min</text>
<text xml:space="preserve" text-anchor="middle" x="2431.99" y="-795" font-family="DejaVu Sans" font-size="10.00"> &#160;&#160;&#160;&#160;&#160;&#160;(5.45 min)</text>
</g>
</g>
</svg>
